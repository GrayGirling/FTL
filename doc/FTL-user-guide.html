<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-gb"><head>


  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>FTL User Guide</title>
  <meta content="Gray Girling" name="author">
  <style type="text/css">
  h2 { border-bottom-style: dotted;
    }
  pre { margin: 5pt 0mm;
    padding: 4pt;
    border-top-width: 4pt ! important;
    border-left-width: 4pt;
    border-right-width: 4pt;
    border-bottom-width: 4pt;
    overflow: auto;
    background-color: rgb(238, 238, 238) ! important;
    }
  h1 { text-align: center;
    }
  </style></head><body>
<div style="text-align: center;">
<h1><span style="font-weight: bold;">FTL User's Guide</span></h1>
<div style="text-align: left;">
<h2>Introduction</h2>
<h3><span style="font-weight: bold;">Version</span></h3>
This guide applies to the FTL run-time library with version 1.16.
<h3>Command File Syntax</h3>
Command lines are extracted from a command file after
<ul>
  <li>discard of commented-out lines (those beginning '<span style="font-family: monospace;">#</span>')</li>
  <li>concatenation of lines ending with an escape ('<span style="font-family: monospace;">\'</span>)</li>
  <li>expansion of textual substitutions introduced with an expansion escape ('<span style="font-family: monospace;">$</span>')</li>
</ul>
The characters '#', '\' and '$' are not used as part of FTL expression syntax.
<h3>Run-time library values</h3>
The run-time library consists of a number of objects provided by
default in the root environment. &nbsp;They fall in to the following
categories:<br>
<br>
<table style="width: 100%; text-align: left; margin-left: auto; margin-right: auto;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td>Function</td>
      <td>Built-in closure taking a fixed number of FTL arguments</td>
    </tr>
    <tr>
      <td>Command</td>
      <td>Built-in program that parses its own command line after parameter substitution</td>
    </tr>
    <tr>
      <td>Variable</td>
      <td>FTL value initialized by the interpreter</td>
    </tr>
    <tr>
      <td>Environment</td>
      <td>FTL directory value providing values for specific names</td>
    </tr>
  </tbody>
</table>
<br>
These are used in two separate environments:<br>
<ol>
  <li>As a command - one of the initial elements on an interpreted command line</li>
  <ul>
    <li>When a <span style="font-style: italic;">function</span> name
is used as the first element in the line the rest of the command line
must provide its arguments, separated by spaces. &nbsp;Enough arguments
to bind to all unbound variables must be provided (and no more).
&nbsp;The function is then executed and the result, if not <span style="font-family: monospace;">NULL</span>, is printed out.</li>
    <li>When a <span style="font-style: italic;">command</span> name is used as the first element in the line the rest of the command line is <span style="font-family: monospace;">$</span>-expanded
and given to the command to parse. &nbsp;A warning is produced if it
completes before using all the characters on the line and the result,
if not <span style="font-family: monospace;">NULL</span>, is otherwise printed out.</li>
    <li>When an <span style="font-style: italic;">environment</span>
name is used as the first element in the line that environment is
pushed on to the environment stack and the rest of the line is reparsed
as a command in that environment (as above).</li>
    <li>A <span style="font-style: italic;">variable</span> name, which does not refer to any of the above types of value can not be used.</li>
  </ul>
  <li>As an FTL expression</li>
  <ul>
    <li>The expression is evaluated and returned.</li>
  </ul>
</ol>
Because the primary aim of the language is to provide a command
interpreter most input files are interpreted in command context, with
FTL expressions used only when required for command definition and
extension.<br>
<h3>FTL Expression Syntax</h3>
<pre>&lt;expression&gt; ::= (&lt;index&gt; '=')* &lt;invocation&gt;<br><br>&lt;invocation&gt; ::= (&lt;substitution&gt; ['!']*)+ <br><br>&lt;substitution&gt; ::= &lt;operation&gt;+<br><br>&lt;operation&gt; ::= user_operator_parse(&lt;retrieval&gt; | &lt;reference&gt;)<br><br>&lt;reference&gt; ::= '@' &lt;retrieval&gt;<br><br>&lt;retrieval&gt; ::= [&lt;closure&gt;]['.' &lt;fieldsindex&gt;]*<br><br>&lt;fieldsindex&gt; ::= '(' &lt;expression&gt; ')' |<br>                  &lt;index&gt; |<br>                  &lt;vector&gt; |<br>                  &lt;id_environment&gt;<br><br>&lt;closure&gt; ::= (&lt;base&gt; [':' | '::'])* &lt;base&gt;<br><br>&lt;base&gt; ::= '(' &lt;expression&gt; ')' |<br>           &lt;code&gt; |<br>           &lt;id_environment&gt; |<br>           &lt;identifier&gt; |<br>           &lt;vector&gt; |<br>           &lt;type_literal&gt;<br>           <br>&lt;code&gt; ::= '{' &lt;expression_list&gt; '}'<br><br>&lt;expression_list&gt; ::= &lt;expression&gt; (';' &lt;expression&gt;)* [';']<br><br>&lt;id_environment&gt; ::= '[' [&lt;binding_list&gt; | &lt;binding_list&gt; ',' &lt;unbound_list&gt; | &lt;unbound_list&gt;] ']' <br><br>&lt;binding_list&gt; ::= [&lt;binding&gt; (',' &lt;binding&gt;)*]  <br><br>&lt;unbound_list&gt; ::= &lt;index&gt; (',' &lt;index&gt;)*<br><br>&lt;binding&gt; ::= &lt;index&gt; '=' &lt;invocation&gt;<br><br>&lt;vector&gt; ::= '&lt;' &lt;implied_series&gt; | &lt;series&gt; '&gt;'<br><br>&lt;index&gt; ::= &lt;identifier&gt; | &lt;type_literal&gt;<br><br>&lt;type_literal&gt; ::= &lt;integer&gt; |<br>                   &lt;string&gt; <br><br>&lt;series&gt; ::= [&lt;series_binding&gt; (',' &lt;seres_binding&gt;)*]<br><br>&lt;implied_series&gt; ::= [&lt;series_binding&gt; [',' &lt;series_binding&gt;]] '..' [&lt;series_binding&gt;]<br><br>&lt;series_binding&gt; ::= [&lt;invocation&gt; '='] &lt;invocation&gt;</pre>
<h3>FTL Expression evaluation</h3>
<h4>User-Operator Parsing</h4>
User-operators are provided as a convenience to the language user.
&nbsp;The functionality of the language is completely accessible
without them.<br>
<br>
User-operator parsing is determined by the set of operations defined using <span style="font-family: monospace;">parse.opset</span>
(described as part of the run-time library below). &nbsp;Each operator definition links the name of an
operator (which may be one or more characters and can involve unused
punctuation characters or identifiers) with a precidence, an
associativity and a monadic or diadic binding. &nbsp;The associativity
determines whether the operator is a prefix, infix, or postfix one and
which of its arguments may be parsed at the same precidence . The
precidence defines how tightly the arguments of the operator are bound
to the operator in comparison with other operators. &nbsp;The binding
should take either one (for a monadic operator) or two (for a diadic
operator) arguments and will be executed once the operator's arguments
have been parsed successfully. &nbsp;<br>
<h4>Standard Operator Definitions</h4>
A number of user-operators are defined as part of the basic run-time
library, but these may be removed, changed or added to. &nbsp;Operator
definitions are held in the priority-ordered vector <span style="font-family: monospace;">parse.op</span>, which initially contains:<br>
<br>
<table style="width: 100px; text-align: left; margin-left: auto; margin-right: auto;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td>Priority</td>
      <td>Operator</td>
      <td>Function</td>
      <td>Assoc</td>
    </tr>
    <tr>
      <td>0</td>
      <td style="text-align: center;">_or_</td>
      <td>logor</td>
      <td style="text-align: center;">xfy</td>
    </tr>
    <tr>
      <td>1</td>
      <td style="text-align: center;">_and_</td>
      <td>logand</td>
      <td style="text-align: center;">xfy</td>
    </tr>
    <tr>
      <td>2</td>
      <td style="text-align: center;">_not_</td>
      <td>invert</td>
      <td style="text-align: center;">fy</td>
    </tr>
    <tr>
      <td colspan="1" rowspan="6">3</td>
      <td style="text-align: center;">==</td>
      <td>equal</td>
      <td style="text-align: center;">xfx</td>
    </tr>
    <tr>
      <td style="text-align: center;">!=</td>
      <td>notequal</td>
      <td style="text-align: center;">xfx</td>
    </tr>
    <tr>
      <td style="text-align: center;">_lt_</td>
      <td>less</td>
      <td style="text-align: center;">xfx</td>
    </tr>
    <tr>
      <td style="text-align: center;">_le_</td>
      <td>lesseq</td>
      <td style="text-align: center;">xfx</td>
    </tr>
    <tr>
      <td style="text-align: center;">_gt_</td>
      <td>more</td>
      <td style="text-align: center;">xfx</td>
    </tr>
    <tr>
      <td style="text-align: center;">_ge_</td>
      <td>moreeq</td>
      <td style="text-align: center;">xfx</td>
    </tr>
    <tr>
      <td colspan="1" rowspan="2">4</td>
      <td style="text-align: center;">_shl_</td>
      <td>shiftl</td>
      <td style="text-align: center;">xfy</td>
    </tr>
    <tr>
      <td style="text-align: center;">_shr_</td>
      <td>shiftr</td>
      <td style="text-align: center;">xfy</td>
    </tr>
    <tr>
      <td>5</td>
      <td style="text-align: center;">-</td>
      <td>neg</td>
      <td style="text-align: center;">fy</td>
    </tr>
    <tr>
      <td colspan="1" rowspan="2">6</td>
      <td style="text-align: center;">+</td>
      <td>add</td>
      <td style="text-align: center;">xfy</td>
    </tr>
    <tr>
      <td style="text-align: center;">-</td>
      <td>sub</td>
      <td style="text-align: center;">xfy</td>
    </tr>
    <tr>
      <td colspan="1" rowspan="2">7</td>
      <td style="text-align: center;">*</td>
      <td>mul</td>
      <td style="text-align: center;">xfy</td>
    </tr>
    <tr>
      <td style="text-align: center;">/</td>
      <td>div</td>
      <td style="text-align: center;">xfy</td>
    </tr>
  </tbody>
</table>
Note that the priorities refer to the relative position in the vector parse.op - their absolute value is not relevant.<br>
<h4>Default Parsing</h4>
After parsing user-operators all evaluation in FTL occurs in an <span style="font-family: monospace;">&lt;invocation&gt;</span> where '<span style="font-family: monospace;">!</span>' has been used. &nbsp;In an invocation a <span style="font-family: monospace;">&lt;code&gt;</span> value or a <span style="font-family: monospace;">&lt;closure&gt;</span> is executed.<br>
<br>
When a <span style="font-family: monospace;">&lt;code&gt;</span> value
is executed the associated text is interpreted as an <span style="font-family: monospace;">&lt;expression_list&gt;</span>
in the current environment (i.e. so that names within the code body will
have the values currently in scope at the point of invocation).<br>
<br>
A <span style="font-family: monospace;">&lt;closure&gt;</span> is an association between a <span style="font-family: monospace;">&lt;code&gt;</span>
value and an environment, which is normally constructed from a stack of
component environments. &nbsp;The environment can consist both of names
with associated values (bound variables) and names with no current
value (unbound variables). Only closures with no unbound variables can
be executed. &nbsp;When it is executed the environment at the point of
invocation replaced by the environment associated with
the closure and the <span style="font-family: monospace;">&lt;code&gt;</span>
value is then executed in that environment. &nbsp;The values in scope
are those currently available in the (stacked) closure environments -
not the values that were defined in those environments at the time of
definition of the closure (see below).<br>
<br>
There are two operators provided to create a <span style="font-family: monospace;">&lt;closure&gt;</span> both involving the specification of arguments that are an environment or <span style="font-family: monospace;">&lt;code&gt;</span> values. &nbsp;The first is the double-colon operator (<span style="font-family: monospace;">::</span>),
which creates a closure whose environment is precisely what has been
specified by the environment(s) supplied. &nbsp;The second is the colon
operator (<span style="font-family: monospace;">:</span>),
which creates a closure whose environment is the provided value stacked
on to the current environment (when the colon operator is executed).<br>
<br>
Although it is not currently precisely the case, it is intended that
all the symbols (e.g. eventually including numeric and string operators
and constants) in a <span style="font-family: monospace;">&lt;code&gt;</span> value are interpreted relative to the environment in which they execute.
<h3>FTL Variable Scope</h3>
At any given time the currently accessible scope is defined as an
environment that is normally itself constructed as a stack of other
environments or simple directories. &nbsp;Within a directory some name
bindings are constant - which means that the value associated with the
name can not be changed, &nbsp;Also, some stack environments may be "locked" -
which means that they can not be extended with new values, and names can
not be removed from them.<br>
<br>
A directory can contain only one value for a name but, because the same
name can be used in different directories in a stacked environment it
is possible that there will be more than one name-value pair in the
environment. &nbsp;When a name is used in an environment it refers to
the value the name given in the most recently pushed directory,
independently of whether it is constant or not (writing to a constant
value will fail).<br>
<br>
The only visible value for 'a' in this environment<br>
<div style="text-align: center;">
<pre>[a=X]::[a=Y]::[a=Z]<br></pre>
</div>
will be Z.<br>
<br>
If a value is being provided for a new name, without specifying a parent directory, and no name is found in the
current environment then the directory used to store the new name in is the one most recently
pushed, independently of whether it is locked or not (so
creating a new name-value pair when the last pushed directory is locked
will fail). &nbsp;<br>
<br>
The empty directory name as a parent specifies the most recently pushed
directory explicity. &nbsp;This notation can be used to create local
names in the environment that will not then refer to incidental
external definitions. &nbsp;Thus "<span style="font-family: monospace;">.<span style="text-decoration: underline;">name</span></span>" will refer to a local
variable&nbsp;<span style="font-family: monospace; text-decoration: underline;">name</span> even if an external value exists with the same
name.<br>
<h3>FTL Indexing</h3>
The dot ('<span style="font-family: monospace;">.</span>') provides a couple of syntactical short-cuts. &nbsp;Normally<br>
<div style="text-align: center;">
<pre>X.Y</pre>
</div>
is equivalent to<br>
<div style="text-align: center;">
<pre>X::{Y}!</pre>
</div>
That is, "Y" is interpreted in the context of the environment "X". &nbsp;Thus if X is an environment containing strings <span style="font-family: monospace;">X."<span style="text-decoration: underline;">string</span>"</span> will return the value associated with the string <span style="font-family: monospace;">"<span style="text-decoration: underline;">string</span>"</span> and if it contains integers <span style="font-family: monospace;">X.<span style="text-decoration: underline;">integer</span></span> returns the value associated with the integer <span style="text-decoration: underline;">integer</span>. &nbsp;For convenience FTL also allows the syntax <span style="font-family: monospace;">X.</span><span style="text-decoration: underline; font-family: monospace;">identifier</span> as an equivalent to <span style="font-family: monospace;">X."</span><span style="text-decoration: underline; font-family: monospace;">identifier</span><span style="font-family: monospace;">"</span>. &nbsp;<br>
<br>
Similarly if Y is itself a literal environment each of the values in it
will be interpreted as names in X and will be replaced by their values
in X. &nbsp;This applies recursively to any values in Y that are
environments. &nbsp;Currently the convenience of using string values
without a string denotation does not also apply to&nbsp;literal
environments.&nbsp; <br>
<br>
The syntax <br>
<div style="text-align: center;">
<pre>X.(Y) </pre>
</div>
can be used when a literal value is not available. &nbsp;The value of
expression Y is used as an object to be interpreted in the context of
X.
&nbsp;If this value is an integer, string or environment it is treated
in the way indicated above. &nbsp;If it is itself an environment then
the result is the same environment in which the named values are
replaced by their own value in the indexed environment. <br>
<br>
Examples:<br>
<pre style="margin-left: 40px;">&gt; set vec &lt;2,6,9&gt;<br>&gt; set ids [a=6,b=2,h=9]<br>&gt; eval vec.0<br>2<br>&gt; eval ids.h<br>9<br>&gt; eval ids."h"<br>9<br>&gt; eval vec.(ids.b)<br>9<br>&gt; eval vec.&lt;2,1,2&gt;<br>&lt;9, 6, 9&gt;<br>&gt; eval vec.[f=2,g=1,h=2]<br>["f"=9, "g"=6, "h"=9]<br>&gt; eval ids.&lt;"b","a"&gt;<br>&lt;2, 6&gt;<br>&gt; eval ids.[q="h", l="a"]<br>["q"=9, "l"=6]<br>&gt; eval vec.&lt;4&gt;<br>&lt;&gt;<br>&gt; eval vec.&lt;4,0,1&gt;<br>&lt;1=2, 6&gt;<br>&gt; eval vec.(ids)<br>["a"=, "b"=9, "h"=]<br>&gt; eval ids.[x="i", y="b"]<br>["x"=, "y"=2]<br>&gt; inenv ids.[x="i", y="b"] "x"<br>FALSE<br>&gt; inenv ids.[x="i", y="b"] "y"<br>TRUE</pre>
<h3>FTL References</h3>
Left hand values (references) can be established with the '<span style="font-family: monospace;">@</span>' operator
placed before a &lt;name&gt; or retrieval consisting of a number of
names concatenated using '<span style="font-family: monospace;">.</span>'. &nbsp;The reference is closure that takes
a single argument whose value will be assigned to the name when it is
executed. &nbsp;When the left hand value of something specified with
more than one concatenated name is taken the object specified by the
names up to the last must exist, and will constitute the environment in
which the final name is assigned when the reference is executed.
&nbsp;The following are equivalent:<br>
<div style="text-align: center;">
<pre>@a 20!</pre>
</div>
and<br>
<div style="text-align: center;">
<pre>a = 20</pre>
</div>
<h3>FTL Values</h3>
Each value associated with a name belongs to one of the value types
supported. &nbsp;These types, and the values they support include the
following:<br>
<table style="text-align: left; margin-left: auto; margin-right: auto;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th>Type</th>
      <th>Values</th>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">nul</td>
      <td style="vertical-align: top;">This type has only a single value, <span style="font-family: monospace;">NULL</span> </td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">type</td>
      <td style="vertical-align: top;">This type contains different values corresponding to each of the supported types.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">int</td>
      <td style="vertical-align: top;">This type is used for integers.
&nbsp;The integers supported are those that can be represented in 64
bits. &nbsp;Denotations are available for specifying both positive and
negative integer values however denotations that appear more than &nbsp;<span style="font-family: monospace;">9223372036854775807</span> (<span style="font-family: monospace;">0x7fffffffffffffff</span>)
can be expected to be indistinguishable from values for negative
numbers.&nbsp;</td>
    </tr>
    <tr>
      <td>
      <dl>
        <dd>bool</dd>
      </dl>
      </td>
      <td>This type contains the values <span style="font-family: monospace;">TRUE</span> and <span style="font-family: monospace;">FALSE</span>.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">string</td>
      <td style="vertical-align: top;">This type is used for a sequence
of 8-bit octets (bytes). Memory-size permitting, the sequence can
contain an implementation-defined number of bytes which must be at
least 2^31. &nbsp;The bytes in the sequence can contain any 8-bit value
(including zero). &nbsp;Denotations are available that allow specific
hexadecimal byte values to be inserted, byte values taken from the
default character set; and, multi-byte sequences corresponding both to
specific characters from a wide (normally Unicode) character set and
from the input character set. &nbsp;In general the run-time library
provides support for access to strings treated as octet containers
separately from those treated as characters containers. &nbsp;Each
character is encoded as a fixed sized, possibly multi-byte, sequence of
octets.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">code</td>
      <td style="vertical-align: top;">This type is used for program
text. &nbsp;Normally this text can not be "executed" until an
environment in which its values can be interpreted is supplied.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">dir</td>
      <td style="vertical-align: top;">This type is used to contain a
mapping between "names" and values. &nbsp;The names are themselves
values and these types must come from types that support a comparison
operator. &nbsp;Currently the types are limited to integers and
strings. &nbsp; Currently separate denotations are available for string
indexed directories, integer indexed directories and integer indexed
integer sequences. &nbsp;Currently the storage requirement for an
integer indexed directory is proportional to the maximum index used,
and only positive indeces are supported. <br>
In addition to "names" with associated values directories can also
contain an ordered set of unbound names with no associated value. &nbsp;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">closure</td>
      <td style="vertical-align: top;">This type incorporates both a
code value and a dir value that specifies the environment in which code
should be interpreted. &nbsp;Values can be bound to unbound names held
in their dir values. &nbsp;These values can not be "executed" unless
there are no unbound names in their dir value. &nbsp;When they are
executed their code value is interpreted in the environment specified
by their dir value.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">cmd</td>
      <td style="vertical-align: top;">This type supports different
kind of executable value to a closure. &nbsp;Each value incorporates an
executable program which will parse a single string argument. &nbsp;A
number of commands are built-in in the run time library.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">function</td>
      <td style="vertical-align: top;">This type supports&nbsp;built-in
closure values that use a fixed number of arguments taken from a
specific range of names ("_1", "_2" ... etc.). &nbsp;The run-time
library provides a number of these values.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">stream</td>
      <td style="vertical-align: top;">This type supports values that can either supply or consume a series of octets (bytes).</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">ipaddr</td>
      <td style="vertical-align: top;">This type is used to contain an
Internet IP address. &nbsp;Denotations are available both for
specifying the address as a &nbsp;"dotted quad" or an Internet host
name. Currently only addresses for IPv4 are supported.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top;">macaddr</td>
      <td style="vertical-align: top;">This type is used to contain an IEEE 802.3 MAC address. &nbsp;A denotation is
available for specifying the address as a colon-separated sextet. Currently only 48-bit addresses are supported.</td>
    </tr>
  </tbody>
</table>
<br>
<h3>Boolean Values</h3>
In this version of FTL the values of TRUE and FALSE are:<br>
<pre>TRUE = [val]::{val!}<br>FALSE = [val]::{FALSE}<br></pre>
That is, <span style="font-family: monospace;">TRUE</span> is a closure that will execute its argument and <span style="font-family: monospace;">FALSE</span> is a closure that will discard its argument and return <span style="font-family: monospace;">FALSE</span> instead. &nbsp;Thus if a value that is either <span style="font-family: monospace;">TRUE</span> or <span style="font-family: monospace;">FALSE</span> is given code as an argument: <br>
<pre>&lt;true_or_false&gt; { &lt;code&gt; }!</pre>
the result will be either the result of the code's execution or the value <span style="font-family: monospace;">FALSE</span>. &nbsp;Thus the code is conditionally executed. <br>
A&nbsp;compound boolean expression can be built up in which each item in the
chain is executed only if previous ones have evaluated to <span style="font-family: monospace;">TRUE</span>:<br>
<pre>&lt;true_or_false&gt; {&lt;boolean_expression&gt;}! {&lt;boolean_expression&gt;}! ... {&lt;boolean_expression&gt;}!<br></pre>
Thus this construct can be used as a conditionally executed "and".<br>
<h3>Run-time library overview</h3>
The values available in the run time library include those in the following categories.
<ul>
  <li>Program control</li>
  <ul>
    <li>do &lt;do&gt; &lt;test&gt; - execute &lt;do&gt; while &lt;test&gt; evaluates non-zero</li>
    <li>every &lt;n&gt; &lt;command&gt; - repeat command every &lt;n&gt; ms<br>
    </li>
    <li>exit - abandon all command inputs<br>
    </li>
    <li>forall &lt;env&gt; &lt;binding&gt; - execute &lt;binding&gt; for all &lt;env&gt; values<br>
    </li>
    <li>if &lt;n&gt; &lt;then-code&gt; &lt;else-code&gt; - execute &lt;then-code&gt; if &lt;n&gt;!=0<br>
    </li>
    <li>return &lt;rc&gt; - abandon current command input returning &lt;rc&gt;<br>
    </li>
    <li>source &lt;filename&gt; - read from file &lt;filename&gt;<br>
    </li>
    <li>sourcetext &lt;stringexpr&gt; - read characters from string<br>
    </li>
    <li>while &lt;test&gt; &lt;do&gt; - while &lt;test&gt; evaluates non-zero execute &lt;do&gt;</li>
  </ul>
  <li>General</li>
  <ul>
    <li>cmd &lt;function&gt; &lt;help&gt; - create a command from a function</li>
    <li>cmp &lt;expr&gt; &lt;expr&gt; - returns integer comparing its arguments</li>
    <li>echo &lt;whole line&gt; - prints the line out</li>
    <li>eval &lt;expr&gt; - evaluate expression</li>
    <li>help - prints command information<br>
    </li>
    <li>rnd &lt;n&gt; - return random number less than &lt;n&gt;<br>
    </li>
    <li>set &lt;name&gt; &lt;expr&gt; - set value in environment<br>
    </li>
    <li>sleep &lt;n&gt; - sleep for &lt;n&gt; milliseconds<br>
    </li>
  </ul>
  <li>Types</li>
  <ul>
    <li>NULL - nul value</li>
    <li>type &lt;typename&gt; - return the type with the given name</li>
    <li>typeof &lt;expr&gt; - returns the type of &lt;expr&gt;</li>
    <li>typename &lt;expr&gt; - returns the name of the type of &lt;expr&gt;<br>
    </li>
  </ul>
  <li>Booleans</li>
  <ul>
    <li>TRUE - the TRUE value</li>
    <li>FALSE - an un-TRUE value</li>
    <li>moreeq &lt;val&gt; &lt;val&gt; - TRUE if first &lt;val&gt; more than or equal to second</li>
    <li>more &lt;val&gt; &lt;val&gt; - TRUE if first &lt;val&gt; more than second</li>
    <li>lesseq &lt;val&gt; &lt;val&gt; - TRUE if first &lt;val&gt; less than or equal to second</li>
    <li>less &lt;val&gt; &lt;val&gt; - TRUE if first &lt;val&gt; less than second</li>
    <li>notequal &lt;val&gt; &lt;val&gt; - TRUE if first &lt;val&gt; not equal to second</li>
    <li>equal &lt;val&gt; &lt;val&gt; - TRUE if first &lt;val&gt; equal to second</li>
    <li>invert &lt;val&gt; - TRUE if &lt;val&gt; is FALSE, FALSE otherwise<br>
    </li>
    <li>logand &lt;val1&gt; &lt;val2&gt; - FALSE if &lt;val1&gt; is FALSE, &lt;val2&gt; otherwise</li>
    <li>logor &lt;val1&gt; &lt;val2&gt; - TRUE if &lt;val1&gt; is TRUE, &lt;val2&gt; otherwise</li>
  </ul>
  <li>Integers</li>
  <ul>
    <li>bitor &lt;n1&gt; &lt;n2&gt; - return n1 "or"ed with n2</li>
    <li>bitxor&nbsp;&lt;n1&gt; &lt;n2&gt; - return n1 exclusive "or"ed with n2</li>
    <li>bitand &lt;n1&gt; &lt;n2&gt; - return n1 "and"ed with n2</li>
    <li>bitnot &lt;n&gt; - return the bitwise "not" of n</li>
    <li>shiftl &lt;n1&gt; &lt;n2&gt; - return n1 left shifted by n2 bits<br>
    </li>
    <li>shiftr &lt;n1&gt; &lt;n2&gt; - return n1 right shifted by n2 bits<br>
    </li>
    <li>add &lt;n1&gt; &lt;n2&gt; - return n1 with n2 added<br>
    </li>
    <li>sub &lt;n1&gt; &lt;n2&gt; - return n1 with n2 subtracted<br>
    </li>
    <li>mul &lt;n1&gt; &lt;n2&gt; - return n1 multiplied by n2<br>
    </li>
    <li>div &lt;n1&gt; &lt;n2&gt; - return n1 divided by n2<br>
    </li>
    <li>neg &lt;n&gt; - return negated &lt;n&gt;<br>
    </li>
    <li>rnd &lt;n&gt; - return random number less than &lt;n&gt;<br>
    </li>
    <li>int &lt;integer expr&gt; - numeric value</li>
    <li>intseq &lt;first&gt; &lt;inc&gt; &lt;last&gt; - vector of integers incrementing by &lt;inc&gt;</li>
    <li>rndseq &lt;n&gt; - vector of integers containing 0..&lt;n&gt;-1 in a random order<br>
    </li>
  </ul>
  <li>Environments and directories</li>
  <ul>
    <li>domain &lt;env&gt; - generate vector of names in &lt;env&gt;</li>
    <li>enter &lt;env&gt; - add commands from &lt;env&gt; to current environment<br>
    </li>
    <li>inenv &lt;env&gt; &lt;name&gt; - returns 0 unless string &lt;name&gt; is in &lt;env&gt;<br>
    </li>
    <li>len [&lt;env&gt;|&lt;closure&gt;|&lt;string&gt;] - number of elements in object<br>
    </li>
    <li>lock &lt;env&gt; - prevent new names being added to &lt;env&gt;<br>
    </li>
    <li>new &lt;env&gt; - copy all &lt;env&gt; values<br>
    </li>
    <li>range &lt;env&gt; - generate vector of values in &lt;env&gt;</li>
    <li>zip &lt;dom&gt; &lt;range&gt; - generate environment with given domain and range taken from &lt;range&gt;<br>
    </li>
    <li>restrict &lt;env&gt; - restrict further commands to those in &lt;env&gt;</li>
    <li>select &lt;binding&gt; &lt;env&gt; - subset of &lt;env&gt; for which &lt;binding&gt; returns TRUE<br>
    </li>
    <li>sort &lt;env&gt; - sorted vector of values in &lt;env&gt;</li>
    <li>sortby &lt;cmpfn&gt; &lt;env&gt; - sorted vector of values in &lt;env&gt; using &lt;cmpfn&gt;</li>
    <li>sortdom &lt;env&gt; - sorted vector of names in &lt;env&gt;</li>
    <li>sortdomby &lt;cmpfn&gt; &lt;env&gt; - sorted vector of names in &lt;env&gt; using &lt;cmpfn&gt;</li></ul>
  <li>Closures<br>
  </li>
  <ul>
    <li>closure &lt;bool&gt; &lt;dir&gt; &lt;code&gt; - create closure from code and dir (inherrit call context if &lt;bool&gt;)</li>
    <li>bind &lt;closure&gt; &lt;arg&gt; - bind argument to unbound closure argument</li>
    <li>code &lt;closure&gt; - return code component of a closure</li>
    <li>context &lt;closure&gt; - return environment component of a closure</li>
    <li>argname &lt;closure&gt; - return name of 1st argument to be bound or NULL</li>
    <li>argnames &lt;closure&gt; - return vector of arguments to be bound<br>
    </li>
  </ul>
  <li>Character handling</li>
  <ul>
    <li>collate &lt;str1&gt; &lt;str2&gt; - compare collating sequence of chars in strings</li>
    <li>len [&lt;env&gt;|&lt;closure&gt;|&lt;string&gt;] - number of elements in object<br>
    </li>
    <li>joinchr &lt;delim&gt; &lt;str&gt; - join vector of chars and strings separated by &lt;delim&gt;s<br>
    </li>
    <li>join &lt;delim&gt; &lt;str&gt; - join vector of octets and strings separated by &lt;delim&gt;s<br>
    </li>
    <li>chr &lt;int&gt; - returns string of (multibyte) char with given ordinal</li>
    <li>octet &lt;int&gt; - returns single byte string containing given octet<br>
    </li>
    <li>chrcode &lt;string&gt; - returns ordinal of the first character of string</li>
    <li>octetcode &lt;string&gt; - returns ordinal of the first byte of string<br>
    </li>
    <li>split &lt;delim&gt; &lt;str&gt; - make vector of strings separated by &lt;delim&gt;s</li>
    <li>chop &lt;stride&gt; &lt;str&gt; - make vector of strings each &lt;stride&gt; bytes or less<br>
    </li>
    <li>str &lt;expr&gt; - evaluate expression and return string representation</li>
    <li>strf&nbsp;&lt;fmt&gt; &lt;env&gt; - formatted string from values in &lt;env&gt;</li>
    <li>strcoll &lt;str1&gt; &lt;str2&gt; - compare collating sequence of chars in strings</li>
    <li>strlen [&lt;string&gt;] - number of (possibly multibyte) chars in string</li>
    <li>tolower &lt;str&gt; - lower case version of string</li>
    <li>toupper &lt;str&gt; - upper case version of string</li>
  </ul>
  <li>Input and Output</li>
  <ul>
    <li>io fmt - updateable directory of formatting functions for io.fprintf</li>
    <li>io close &lt;stream&gt; - close stream<br>
    </li>
    <li>io err - default error stream<br>
    </li>
    <li>io file &lt;filename&gt; &lt;rw&gt; - return stream for opened file</li>
    <li>io binfile &lt;filename&gt; &lt;rw&gt; - return stream for opened binary file<br>
    </li>
    <li>io filetostring &lt;filename&gt; [&lt;outfile&gt;] - write file out as a C string</li>
    <li>io fprintf &lt;stream&gt; &lt;format&gt; &lt;env&gt; - write formatted string to stream</li>
    <li>io getc &lt;stream&gt; - read the next character from the stream</li>
    <li>io in - default input stream</li>
    <li>io instring &lt;string&gt; &lt;rw&gt; - return stream for reading string</li>
    <li>io out - default output stream</li>
    <li>io outstring &lt;closure&gt; - apply output stream to closure and return string</li>
    <li>io pathfile &lt;path&gt; &lt;filename&gt; &lt;rw&gt; - return stream for opened file on path</li>
    <li>io pathbinfile &lt;path&gt; &lt;filename&gt; &lt;rw&gt; - return stream for opened binary file on path<br>
    </li>
    <li>io read &lt;stream&gt; &lt;size&gt; - read up to &lt;size&gt; bytes from stream</li>
    <li>io stringify &lt;stream&gt; &lt;expr&gt; - write FTL representation to stream</li>
    <li>io write &lt;stream&gt; &lt;string&gt; - write string to stream</li>
  </ul>
  <li>Parser interface</li>
  <ul>
    <li>parse argv - directory of command line arguments</li>
    <li>parse assoc - environment containing operator associativity definitions</li>
    <li>parse codeid - name of interpreter<br>
    </li>
    <li>parse env - return current invocation environment<br>
    </li>
    <li>parse errors - total number of errors encountered by parser</li>
    <li>parse errors_reset &lt;n&gt; - reset total number of errors to &lt;n&gt;</li>
    <li>parse exec &lt;cmds&gt; &lt;stream&gt; - return value of executing initial &lt;cmds&gt; then stream<br>
    </li>
    <li>parse line - number of the line in the character source<br>
    </li>
    <li>parse newerror - register the occurrance of a new error</li>
    <li>parse op - environment containing operation definitions</li>
    <li>parse opeval &lt;opdefs&gt; &lt;code&gt; - execute code according to operator definitions</li>
    <li>parse opset &lt;opdefs&gt; &lt;prec&gt; &lt;assoc&gt; &lt;name&gt; &lt;function&gt; - define an operator in opdefs</li>
    <li>parse readline - read and expand a line from the command input</li>
    <li>parse rdenv &lt;cmds&gt; &lt;stream&gt; - return env made executing initial &lt;cmds&gt; then stream<br>
    </li>
    <li>parse rdmod &lt;module&gt; - return env made executing module file on path<br>
    </li>
    <li>parse root - return current root environment</li>
    <li>parse scan &lt;string&gt; - return parse object from string</li>
    <li>parse scanned &lt;parseobj&gt; - return text remaining in parse object</li>
    <li>parse scanempty &lt;parseobj&gt; - parse empty line from string from parse object, update string</li>
    <li>parse scancode &lt;@string&gt; &lt;parseobj&gt; - parse {code} block from parse object<br>
    </li>
    <li>parse scanwhite &lt;parseobj&gt; - parse white spce from string from parse object, update string<br>
    </li>
    <li>parse scanspace &lt;parseobj&gt; - parse over white space from string from parse object, update string<br>
    </li>
    <li>parse scanint &lt;@int&gt; &lt;parseobj&gt; - parse integer from string from parse object, update string</li>
    <li>parse scanintval &lt;@int&gt; &lt;parseobj&gt; - parse signed based integer from parse object<br>
    </li>
    <li>parse&nbsp;scanhex &lt;@int&gt; &lt;parseobj&gt; - parse hex string from parse object, update string<br>
    </li>
    <li>parse scanhexw &lt;width&gt; &lt;@int&gt; &lt;parseobj&gt; - parse hex in &lt;width&gt; chars from parse object, update string</li>
    <li>parse scanmatch &lt;dir&gt; &lt;@val&gt; &lt;parseobj&gt; - parse prefix in dir from parse object giving matching value<br>
    </li>
    <li>parse scanstr &lt;@string&gt; &lt;parseobj&gt; - parse item until delimiter, update string<br>
    </li>
    <li>parse scanid &lt;@string&gt; &lt;parseobj&gt; - parse identifier, update string<br>
    </li>
    <li>parse&nbsp;scanitemstr &lt;@string&gt; &lt;parseobj&gt; - parse item or string, update string<br>
    </li>
    <li>parse scanitem &lt;delims&gt; &lt;@string&gt; &lt;parseobj&gt; - parse item until delimiter, update string</li>
    <li>parse scanmatch &lt;dir&gt; &lt;@val&gt; &lt;parseobj&gt; -
parse prefix in dir from string in parse object giving matching value,
update string</li>
    <li>parse source - name of the source of chars at start of the last line</li>
  </ul>
  <li>Operating System interface</li>
  <ul>
    <li>sys env - system environment variable environment</li>
    <li>sys fs casematch - whether case must match in file system file names value</li>
    <li>sys fs absname &lt;file&gt; - TRUE iff file has an absolute path name</li>
    <li>sys fs nowhere - name of file available as empty source or sink<br>
    </li>
    <li>sys fs sep - string separating path elements in a file name</li>
    <li>sys fs thisdir - name of directory repersenting the current directory<br>
    </li>
    <li>sys osfamily - name of operating system type<br>
    </li>
    <li>sys run &lt;line&gt; - execute system &lt;line&gt;</li>
    <li>sys runrc &lt;command&gt; - execute system command &amp; return result code</li>
    <li>sys shell path &lt;path&gt; &lt;file&gt; - return name of file on path</li>
    <li>sys shell pathsep - character value separating directory elements in a path environment<br>
    </li>
    <li>sys uid &lt;user&gt; - return the UID of the named user</li>
    <li>sys utctime &lt;time&gt; - broken down UTC time</li>
    <li>sys localtime &lt;time&gt; - broken down local time</li>
    <li>sys utctimef &lt;format&gt; &lt;time&gt; - formatted UTC time</li>
    <li>sys localtimef &lt;format&gt; &lt;time&gt; - formatted local time</li>
    <li>sys time - system calendar time in seconds</li>
  </ul>
  <li>Windows-only interface</li>
  <ul>
    <li>reg value HKEY_CLASSES_ROOT &lt;key&gt; - open key values in HKEY_CLASSES_ROOT</li>
    <li>reg value HKEY_USERS &lt;key&gt; - open key values in HKEY_USERS</li>
    <li>reg&nbsp;value HKEY_CURRENT_USER &lt;key&gt; - open key values in HKEY_CURRENT_USER</li>
    <li>reg value HKEY_LOCAL_MACHINE &lt;key&gt; - open key values in HKEY_LOCAL_MACHINE</li>
    <li>reg value HKEY_CURRENT_CONFIG &lt;key&gt; - open key values in HKEY_CURRENT_CONFIG<br>
    </li>
    <li>reg allow_edit &lt;boolean&gt; - enable/disable write to the registry from new keys<br>
    </li>
    <li>reg key - directory of key value types</li>
  </ul>
</ul>
<h2>Run-time Library</h2>
In the following each library entity is described using a proforma
including a specification of the argument syntax. &nbsp;This uses
"&lt;label:syntax&gt;" to refer to something parsed according to syntax
indicated in the following table that is then referred to in a
description using the name "label".<br>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">any</th>
      <td>FTL expression returning any type of value</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">int</th>
      <td>FTL expression returning an integer value</td>
    </tr>
    <tr>
      <td style="font-weight: bold; text-align: right;">bool</td>
      <td>FTL expression returning either <span style="font-family: monospace;">TRUE</span> or <span style="font-family: monospace;">FALSE</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">code</th>
      <td>FTL expression returning a code value</td>
    </tr>
    <tr>
      <th style="text-align: right;">dir</th>
      <td>FTL expression rerturning a directory value</td>
    </tr>
    <tr>
      <th style="text-align: right;">closure</th>
      <td>FTL expression rerturning a closure value</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">clodir</th>
      <td>&lt;closure&gt; | &lt;dir&gt;</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">clocode</th>
      <td>&lt;closure&gt; | &lt;code&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right;">string</th>
      <td>FTL expression rerturning a string value</td>
    </tr>
  <tr>
      <th style="text-align: right;">stringnl</th>
      <td>FTL expression rerturning a string, NULL or integer</td>
    </tr>
  <tr>
      <td style="text-align: right; font-weight: bold;">token</td>
      <td>Any sequence of characters with no white space</td>
    </tr>
    <tr>
      <th style="text-align: right;">tokstring</th>
      <td>Either a &lt;token&gt; or a literal string</td>
    </tr>
    <tr>
      <th style="text-align: right;">restofline</th>
      <td>The sequence of characters starting at the first non-white character &nbsp;and ending at the end of the line</td>
    </tr>
  </tbody>
</table>
<br>
The names in the default run-time library are presented in alphabetic order below.
<h3>add &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left; width: 521px; height: 315px;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">add</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;n1:int&gt; &lt;n2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two integers and adds them together.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer with the value n1+n2.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;">sub</span>, <span style="font-family: monospace;">mul</span>, <span style="font-family: monospace;">div</span>, <span style="font-family: monospace;">shiftl</span>, <span style="font-family: monospace;">shiftr, neg</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; add 0x100 12<br>268<br></pre>
      <pre>&gt; sys localtimef "%T" (add (sys.time!) 600!)<br>"17:30:14"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>argname &lt;closure&gt;<br>
</h3>




<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">




  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">argname</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;closure&gt;<br>
</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Return only the unbound variable part of a closure (e.g. a function) that would be bound to an argument.<br>There
are three main portions of a closure: its bound environment, its
unbound environment and its code.&nbsp; This function returns the last
created unbound name.&nbsp; If there are no unbound variable NULL is
returned.<br>
See also: <span style="font-family: monospace;">bind</span>, <span style="font-family: monospace;">code</span>, <span style="font-family: monospace;"></span><span style="font-family: monospace;">context</span>, <span style="font-family: monospace;">closure</span>, <span style="font-family: monospace;">argnames</span></td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A string containing the name of the variable next to be bound to an argument.<span style="font-family: monospace;"></span><br>
<span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; argname [b=1,a]::{a+b}<br>"a"<br></pre>
      <pre>&gt; argname set<br>"_1"<br></pre>

      <span style="font-family: monospace;"></span>
      <pre>&gt; set needs_argument[fn]:{NULL != (argname fn!)}<br>&gt; needs_argument needs_argument<br>TRUE<br>&gt; needs_argument []:{echo "no"!}<br>FALSE</pre>

      </td>
    </tr>
  </tbody>
</table>



<h3>argname &lt;closure&gt;<br>
</h3>





<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">





  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">argnames</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;closure&gt;<br>
</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Returns a vector containing only the names of the unbound variables in a closure (e.g. a function).<br>There
are three main portions of a closure: its bound environment, its
unbound environment and its code.&nbsp; This function returns the
unbound names.&nbsp; The order of the names is the same as the order in
which they will be taken by succeeding bindings (i.e. the first element
in the sequence is the name of the variable that will be bound first -
this is the value that '<span style="font-family: monospace;">argname</span>' would return). If there are no unbound variable an empty vector is
returned.<br>
See also: <span style="font-family: monospace;">bind</span>, <span style="font-family: monospace;">code</span>, <span style="font-family: monospace;"></span><span style="font-family: monospace;">context</span>, <span style="font-family: monospace;">closure</span>, <span style="font-family: monospace;">argname</span></td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A string containing the name of the variable next to be bound to an argument.<span style="font-family: monospace;"></span><br>
<span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; argnames [b=1,a]::{a+b}<br>&lt;"a"&gt;<br></pre>
      <pre>&gt; argnames add<br>&lt;"_1", "_2"&gt;<br></pre>

      <span style="font-family: monospace;"></span>
      <pre>&gt; set argument_count[fn]:{len (argnames fn!)!}<br>&gt; argument_count add<br>2</pre>

      </td>
    </tr>
  </tbody>
</table>




<h3>bitand &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">bitand</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;b1:int&gt; &lt;b2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two sets of 64 bits
(held in the two integers represented in two's complement arithmetic)
and returns the integer representing the "and" of corresponding bits.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>Bitwise "and" of <span style="font-family: monospace;">b1</span> and <span style="font-family: monospace;">b2</span>.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">and</span>, <span style="font-family: monospace;">bitor</span>, <span style="font-family: monospace;">bitxor</span>, <span style="font-family: monospace;">bitnot</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; bitand 1 3<br>1<br>&gt; bitand 0 0xffff<br>0<br>&gt; strf "0x%09x" &lt;bitand 0x000fff000 0x123456789!&gt;<br>"0x000456000"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>bitnot &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">bitnot</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;b:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes a set of 64 bits
(held by the integer represented in two's complement arithmetic)
and returns the integer representing the "not" of each bit.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>Bitwise inversion of <span style="font-family: monospace;">b</span>.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">and</span>, <span style="font-family: monospace;">bitor</span>, <span style="font-family: monospace;">bitxor</span>, <span style="font-family: monospace;">bitand</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; bitnot 0<br>-1<br>&gt; bitnot 0xffff<br>-65536<br>&gt; strf "0x%09x" &lt;bitnot 0x000fff000!&gt;<br>"0xffffffffff000fff"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>bitor &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">bitor</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;b1:int&gt; &lt;b2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two sets of 64 bits
(held in the two integers represented in two's complement arithmetic)
and returns the integer representing the "or" of corresponding bits.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>Bitwise "or" of <span style="font-family: monospace;">b1</span> and <span style="font-family: monospace;">b2</span>.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">and</span>, <span style="font-family: monospace;">bitand</span>, <span style="font-family: monospace;">bitxor</span>, <span style="font-family: monospace;">bitnot</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; bitor 1 2<br>3<br>&gt; bitor 0xffff0000 0xffff<br>4294967295<br>&gt; strf "0x%09x" &lt;bitor 0x000fff000 0x123456789!&gt;<br>"0x123fff789"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>bitxor &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">bitxor</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;b1:int&gt; &lt;b2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two sets of 64 bits
(held in the two integers represented in two's complement arithmetic)
and returns the integer representing the "exclusive or" of corresponding bits.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>Bitwise "exclusive or" of <span style="font-family: monospace;">b1</span> and <span style="font-family: monospace;">b2</span>.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">and</span>, <span style="font-family: monospace;">bitand</span>, <span style="font-family: monospace;">bitor</span>, <span style="font-family: monospace;">bitnot</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; bitxor 1 3<br>2<br>&gt; bitxor 0xffff 0xff00<br>255<br>&gt;  strf "0x%09x" &lt;bitxor 0x000fff000 0x555555555!&gt;<br>"0x555aaa555"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h3>chop &lt;int&gt; &lt;string&gt;<br>

</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">chop</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;str:string&gt; &lt;stride:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Returns
a vector of successive substrings from &lt;str&gt; each
|&lt;stride&gt;| octets long except the last which may have
fewer.&nbsp; The substrings are taken sequentially from <br>
</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A vector of successive substrings taken from the string.<span style="font-family: monospace;"><br>
      </span>See also: <span style="font-family: monospace;">zip</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; chop 3 "abcdefghijk"<br>&lt;"abc", "def", "ghi", "jk"&gt;<br></pre>
      <pre>&gt; chop -3 "abcdefghijk"<br>&lt;"ijk", "fgh", "cde", "ab"&gt;</pre>
      <pre>set rev[x]:{x.&lt;(len x!)-1..0&gt;}<br>&gt; join "," (rev (chop -3 (strf "%d" &lt;10000000&gt;!)!)!)<br>"10,000,000"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span></h3>
<h3>chr &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">chr</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;widechar:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Returns a string containing a single
(possibly-multibyte) character with the given position in the current
locale's character set.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A string of octets representing the character with the given ordinal number.<span style="font-family: monospace;"><br>
      </span>See also: <span style="font-family: monospace;">octet</span>, <span style="font-family: monospace;">chrcode</span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; echo ${chr 163!}<br></pre>
      <pre>&gt; chr 163<br>"\xc2\xa3"</pre>
      <pre>&gt; eval chr 65!<br>"A"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>chrcode &lt;char&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">chrcode</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;char:string&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Returns the ordinal position of the first (possibly-multibyte) character in its argument in the current
locale's character set.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer containing the ordinal number.<span style="font-family: monospace;"><br>
      </span>See also: <span style="font-family: monospace;">chr</span>, <span style="font-family: monospace;">octetcode</span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; eval ""<br>"\xc2\xa3"<br>&gt; chrcode "\xc2\xa3"<br>163</pre>
      <pre>&gt; eval chrcode "&#8364;"!<br>8364</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>closure &lt;bool&gt; &lt;dir&gt; &lt;code&gt;<br>
</h3>

<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">

  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">closure</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;bool&gt; &lt;dir&gt; &lt;code&gt;<br>
</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Create
a closure from the environment &lt;dir&gt; and code &lt;code&gt;.&nbsp;
If &lt;bool&gt; is TRUE the new closure includes the current
environment just as <br>
      <div style="text-align: center;">&lt;dir&gt;:&lt;code&gt;<br>
      </div>
would. Otherwise it does not include the current envionment (i.e. the environment is precisely &lt;dir&gt;) just as<br>
      <div style="text-align: center;">&lt;dir&gt;::&lt;code&gt;<br>
      </div>
would.<br>
      <span style="font-weight: bold;"></span>Any unbound variables in &lt;dir&gt; are ignored.<br>
See also: <span style="font-family: monospace;">bind</span>, <span style="font-family: monospace;">code</span>, <span style="font-family: monospace;">context</span>, <span style="font-family: monospace;">argname</span>,<span style="font-family: monospace;"> argnames</span></td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A closure with no unbound variables created from &lt;dir&gt; and &lt;code&gt;.<span style="font-family: monospace;"></span><br>
<span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; closure FALSE [inc=3] {&lt;0, inc .. 10&gt;}<br>[inc=3]::{&lt;0, inc .. 10&gt;}<br></pre>
      <pre>&gt; set key_chooser[vals]:{(closure FALSE vals {key}!)!}<br>&gt; key_chooser ["lock"=8,"key"=-9,"bolt"=2]<br>-9<br>&gt; key_chooser ["lock"=8,"bolt"=2]<br>ftl $*console*@26@0: in<br>ftl $*console*@26: in<br>ftl $*console*:28: undefined symbol 'key'<br>ftl $*console*:28: error in closure code body<br></pre>

      <pre>&gt; set init_42 closure TRUE [first=42] {[value=first]}!<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<span style="font-weight: bold;"></span>
<h3>cmd &lt;function&gt; &lt;help&gt;</h3>

<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">cmd</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;function:closure&gt;&nbsp;&lt;help:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Create a command from a function that parses
the command line as a string. &nbsp;The object created is suitable for
entry into a directory of commands and will incorporate a help string
as specified. &nbsp;The function provided must be a closure that has
precisely one unbound variable which will be bound to a string when it
is executed.<br>
This can be used to support command lines which limit the side-effects
that arguments can have (since using a function as a command always
allow an arbitrary expression as an argument). &nbsp;Alternatively it
can be used to support command line syntax which could not be provided
simply by parsing a fixed number of expression - such as when names
from a given environment are required or when a variable number of
arguments are needed.<br>
See also: <span style="font-family: monospace;">parse.scan*</span> functions<br>
      <span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A closure embedding the help string and a new command which evaluates the given function.&nbsp;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; set onetwo_fn[s]:{ (split " " s!).&lt;0,1&gt; }<br>&gt; set onetwo cmd onetwo_fn "&lt;first&gt; &lt;second&gt; .. return 1st and 2nd items"!<br>&gt; help<br>...<br>onetwo &lt;first&gt; &lt;second&gt; .. return 1st and 2nd items<br>...<br>&gt; onetwo beaky mick titch<br>&lt;"beaky", "mick"&gt;<br>&gt; eval onetwo "-o file -- opts"!<br>&lt;"-o", "file"&gt;<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>cmp &lt;any&gt; &lt;any&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">cmp</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;arg1:any&gt; &lt;arg2:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Compares two values returning an integer as follows:<br>
      <ul>
        <li>values incomparable: a non-zero value</li>
        <li>arg1 is arg2: zero</li>
        <li>value of arg1 is equivalent to the value of arg2: zero</li>
        <li>value of arg1 is less than the value of arg2: a negative integer</li>
        <li>value of arg1 is greater than the value of arg2: a strictly positive value</li>
      </ul>This
function does not compare the content of directories or closures.&nbsp;
Equality in this case is based on identity (that is a directory or
closure is equal only to itself, not another of the same type with
identical value).<br>
See also: <span style="font-family: monospace;">equal</span>, <span style="font-family: monospace;">notequal</span>, <span style="font-family: monospace;">more</span>, <span style="font-family: monospace;">less</span>, <span style="font-family: monospace;">moreeq</span>, <span style="font-family: monospace;">lesseq</span>, <span style="font-family: monospace;">collate</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>An integer value comparing its arguments.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; cmp 9 1<br>1</pre>
      <pre>&gt; cmp "Astring" "Bstring"<br>-1</pre>
      <pre>&gt; cmp "string\0_B" "string\0_A"<br>1<br></pre>
      <pre>&gt; cmp &lt;1&gt; &lt;1&gt;<br>-1<br>&gt; set dir &lt;1&gt;<br>&gt; cmp dir dir<br>0<br></pre>

      <pre>cmp NULL ({}!)!</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>code &lt;closure&gt;<br>
</h3>


<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">


  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">code</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;closure&gt;<br>
</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Return only the 'code' portion of a closure (e.g. a function).<br>
There are three main portions of a closure: its bound environment, its
unbound environment and its code.&nbsp; This function returns the
latter.<br>
See also: <span style="font-family: monospace;">bind</span>, <span style="font-family: monospace;">closure</span>, <span style="font-family: monospace;">context</span>, <span style="font-family: monospace;">argname</span>,<span style="font-family: monospace;"> argnames</span></td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A code value.<span style="font-family: monospace;"></span><br>
<span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; code [b=1,a]:{a+b}<br>{a+b}<br></pre>
      <pre>&gt; code set<br>&lt;cmd:0x8063679,1&gt;<br></pre>

      <pre>&gt; code code<br>&lt;func:0x805ac4e,1&gt;<br></pre>
      </td>
    </tr>
  </tbody>
</table>

<h3>collate &lt;string1&gt; &lt;string2&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">collate</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;chars1:string&gt;&nbsp;&lt;chars2:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns
comparison of the lexicographic positions of the two strings derived
from the collating sequence of the characters contained in the two
strings. &nbsp;The characters may be encoded in more than one octet.<br>
Note
that this is a different function to cmp which will compare the octets
that constitute each character (which will normally result in a
comparison of the ordering of the character's positions in their
character set instead of their collating position - which is not always
equivalent).<br>
The collating sequence used is provided by the locale in which the interpreter runs.<br>
See also: <span style="font-family: monospace;">cmp</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>An integer comparing the lexicographic collating sequences of the two strings.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; collate "same" "same"<br>0<br></pre>
      <pre>&gt; collate "early" "late"<br>-1<br></pre>
      <pre>&gt; sortby collate &lt;"fred", "", "FORMER", "104"&gt;<br>&lt;3, 2, 0, 1&gt;<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>context &lt;closure&gt;<br>
</h3>



<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">



  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">context</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;closure&gt;<br>
</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Return only the 'code' portion of a closure (e.g. a function).<br>
There are three main portions of a closure: its bound environment, its
unbound environment and its code.&nbsp; This function returns the latter.<br>
See also: <span style="font-family: monospace;">bind</span>, <span style="font-family: monospace;">code</span>, <span style="font-family: monospace;">closure</span>, <span style="font-family: monospace;"></span><span style="font-family: monospace;">argname</span>,<span style="font-family: monospace;"> argnames</span></td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A directory representing the environment in which &lt;closure&gt; will run.<span style="font-family: monospace;"></span><br>
<span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; context [b=1,a]::{a+b}<br>[b=1, a]<br></pre>
      <pre>&gt; code set<br>[_help="&lt;name&gt; &lt;expr&gt; - set value in environment", _1]<br></pre>

      <pre>&gt; eval (context [b=1,a]:{a+b}!).b<br>1<br></pre><span style="font-family: monospace;"></span>
      <pre>&gt; eval (context [b=1,a]:{a+b}!).a<br>ftl $*console*:12: index symbol undefined in parent '"a"'<br>ftl $*console*:12: failed to evaluate expression</pre>

      </td>
    </tr>
  </tbody>
</table>


<h3>div &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">div</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;n1:int&gt; &lt;n2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two integers and divides the first by the second returning the integer part of the result.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer with the value n1/n2.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;">add</span>, <span style="font-family: monospace;">sub</span>, <span style="font-family: monospace;">mul</span><span style="font-family: monospace;"></span>, <span style="font-family: monospace;">shiftl</span>, <span style="font-family: monospace;">shiftr, neg</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; div 14 6<br>2<br>&gt; div -14 6<br>-2<br>&gt; div 14 (-6)<br>-2<br>&gt; div -14 (-6)<br>2<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>do &lt;code&gt; &lt;code&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">do</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;do:code&gt; &lt;test:code&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td> execute &lt;do&gt; while &lt;test&gt; evaluates to <span style="font-family: monospace;">TRUE</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Returns the value associated with &lt;code&gt; on its last execution</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>set nosix_run[]: {<br>&nbsp; &nbsp; count = 0;<br>&nbsp; &nbsp; do {n = rnd 6!; <br>        count = 1+(count); &nbsp;<br>        count <br>    } { 0 != (n) }!<br>}<br>&gt; nosix_run<br>5<br>&gt; nosix_run<br>10<br>&gt; nosix_run<br>1</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>domain &lt;dir&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">domain</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;env:dir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Provides a means to find just the in-scope names
that&nbsp;are bound&nbsp;in env. &nbsp;Names that are hidden because of
scoping rules will not appear nor will unbound names.<br>
The order of elements in the vector is undefined, but is the same ordering that is used in the <span style="font-family: monospace;">range</span> function.<br>
See also: <span style="font-family: monospace;">range</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>a vector of names used in <span style="font-family: monospace;">env,</span> in any order</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; domain [a=3, b="asdf", "c"=[], d]<br>&lt;"a", "b", "c"&gt;<br></pre>
      <pre>&gt; join ", " (domain [a=3, b="asdf", "c"=[], d]!)<br>"a, b, c"<br></pre>
      <pre>&gt; set rndelement[env]: { env.((domain env!).(rnd (len env!)!)) }<br>&gt; rndelement [a=3, b="asdf", "c"=[], d]<br>"asdf"<br>&gt; rndelement [a=3, b="asdf", "c"=[], d]<br>3<br>&gt; rndelement [a=3, b="asdf", "c"=[], d]<br>[]<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>equal &lt;val&gt; &lt;val&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">equal</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;val1:any&gt; &lt;val2:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Compares its first argument with the second
and returns <span style="font-family: monospace;">TRUE</span> iff they are equal and <span style="font-family: monospace;">FALSE</span> otherwise. The comparison
is made as described in the <span style="font-family: monospace;">cmp</span> function.<br>
This function is identical to:<br>
      <pre>[val1, val2]: { 0 == (cmp val1 val2!) }<br></pre>
See also:<span style="font-family: monospace;"> cmp</span>, <span style="font-family: monospace;">notequal</span>, <span style="font-family: monospace;">more</span>, <span style="font-family: monospace;">less</span>, <span style="font-family: monospace;">moreeq</span>, <span style="font-family: monospace;">lesseq</span><br>
Normally this function is associated with the <span style="font-family: monospace;">==</span> operator.<span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>TRUE or FALSE</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>{   if (equal var NULL!) {<br>        echo "nothing there"!<br>    }{  do_something_with var!<br>    }!<br>}<br></pre>
      <pre>&gt; eval (3 == 3) {echo "hi"!}!<br>hi<br>FALSE<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>echo &lt;whole line&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">echo</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;restofline&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Writes the characters following it starting at the first non-blank character to the current output stream followed by a newline.<br>
As with other commands the line is subject to $-expansion first.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; echo   === STARTING ===<br>=== STARTING ===<br></pre>
      <pre>&gt; set option "on"<br>&gt; echo Option is currently $option<br>Option is currently on<br></pre>
      <pre>&gt; set roll[]: { die = rnd 6!; echo "Roll \$die"! }<br>&gt; roll<br>Roll 5</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>enter &lt;dir&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">enter</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;env:dir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This command pushes its argument directory <span style="font-family: monospace;">env</span> onto the current environment stack thus bringing all the names defined in the directory into scope.<br>
Since the commands <span style="font-family: monospace;">parse.local</span> and <span style="font-family: monospace;">help</span> are active only on the top directory in the current environment the command has a direct effect on them.<br>
Note that the environment entered during the execution of a block goes
out of scope at the end of the block, together with any pushed
directories.<br>
See also: <span style="font-family: monospace;">restrict</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; enter [h=help, e=echo, ans=42]<br>&gt; help<br>ans - int value<br>e &lt;whole line&gt; - prints the line out<br>h - prints command information<br>&gt; eval h<br>["_help"="- prints command information"]::&lt;func:0x8053dfc,0&gt;<br>&gt; eval help<br>["_help"="- prints command information"]::&lt;func:0x8053dfc,0&gt;<br></pre>
      <pre>&gt; set f [rec]:{ x="original"; enter rec!; echo x!; }<br>&gt; f [x="new"]<br>new<br>&gt; f [y="new"]<br>original<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>eval &lt;expr&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">eval</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;expression:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Parses the characters following it as an FTL expression and evaluates it.<br>
As with other commands the line is subject to $-expansion first.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The value of the FTL expression</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; eval f="foibles"<br>"foibles"<br></pre>
      <pre>&gt; eval [a]:{echo a!; a} "asparagus"!<br>asparagus<br>"asparagus"<br></pre>
      <pre>&gt; set demo [expr]:{ <br>&gt;    io.write io.out ""+(expr)+" = "+(str (eval expr!)!)+"\n"!&nbsp;<br>&gt; }<br>&gt; forall &lt;3..5&gt; [n]:{demo "100/"+(str n!)!}<br>100/3 = 33<br>100/4 = 25<br>100/5 = 20<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>every &lt;n&gt; &lt;command&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">every</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;milliseconds:int&gt; &lt;commands:restofline&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Executes the command line &lt;restofline&gt; every&nbsp;<span style="font-family: monospace;">milliseconds</span> forever.<br>
(Note that the command line is not an FTL expression.)<br>
The function <span style="font-family: monospace;">sleep</span> is implicitly invoked by this command.<br>
See also: <span style="font-family: monospace;">sleep</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Does not return</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; every 1000 echo tick<br>tick<br>tick<br>tick<br>tick<br>tick<br>tick<br>tick<br>tick<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>exit</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">exit</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>no argument</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>By closing all&nbsp;input streams on the current input stack
this function normally causes execution in the interpreter to come to
an end.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Does not return</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; exit<br></pre>
      <pre>&gt; set error[msg]:{ echo msg!; exit! }</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>FALSE</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">FALSE</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Value</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>(no args)</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Provides the <span style="font-family: monospace;">FALSE</span> value which can be used in boolean expressions.<br>
Note that the value used for <span style="font-family: monospace;">FALSE</span> behaves as if it were defined as follows:<br>
      <pre>[code]:{FALSE}</pre>
See also: <span style="font-family: monospace;">TRUE</span>, the section about Boolean Values above.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A value that is different to the one used for <span style="font-family: monospace;">TRUE.</span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; set done FALSE<br>&gt; set once[fn]: { if (done) { done=TRUE; fn! } {}! } </pre>
      <pre>{   rc = fn!;<br>    if (rc.error_occured) {echo "ERROR"!; FALSE} {TRUE}!<br>}<br></pre>
      <pre>&gt; eval FALSE {echo "never run"!}!<br>FALSE<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>forall &lt;dir&gt; &lt;closure&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">forall</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;set:clodir&gt; &lt;enumerate:clocode&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function executes <span style="font-family: monospace;">enumerate</span> for every name value pair in <span style="font-family: monospace;">set</span>.<br>
If enumerate is code it is simply executed in the environment where <span style="font-family: monospace;">forall</span> was invoked once for every member in the set, otherwise <span style="font-family: monospace;">enumerate</span> may be a closure with either one or two arguments.<br>
If it is a closure with one argument, that argument is successively bound to different values in the name-value pairs in the <span style="font-family: monospace;">set</span>.<br>
If it is a closure with two arguments, the first argument is
successively bound to different values, while the second is bound to
the corresponding name<br>
The order of evaluation is defined only for vectors.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; forall &lt;..3&gt; { echo "next"! }<br>next<br>next<br>next<br></pre>
      <pre>&gt; forall &lt;"one", "fine", "day"&gt; echo<br>one<br>fine<br>day<br></pre>
      <pre>set sieve[n]: { <br>    forall &lt;0, n .. (len prime!)&gt; [i]:{ <br>        prime.(i) = NULL <br>    }! <br>}<br></pre>
      <pre>&gt; forall [a="ay", b="bee", c="see"] [pron, let]:{<br>&gt;     echo "\$let is pronounced '\$pron'"!<br>&gt; }<br>a is pronounced 'ay'<br>b is pronounced 'bee'<br>c is pronounced 'see'<br></pre>
      <pre>&gt; forall ([a,b]::{b=20+(a)} 1 2) [val, name]:{echo "\$name = \$val"!}<br>b = 2<br>a = 1<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>help</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">help [all] [&lt;command&gt;]</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>[all] [&lt;command&gt;]</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>If no <span style="font-family: monospace;">&lt;command&gt;</span> is provided on the command line this will print information about the commands in the top level environment. &nbsp;If <span style="font-family: monospace;">&lt;command&gt;</span> is provided help is provided for <span style="font-family: monospace;">&lt;command&gt;</span> explicitly.<br>
Because named environments appearing at the front of a command are entered the syntax "<span style="font-family: monospace;">&lt;environment&gt; help</span>" can be used as an idiom that prints help for objects in <span style="font-family: monospace;">&lt;environment&gt;</span>.<br>
For names associated with a directory this command indicates that this idiom can be used to obtain more help or, if <span style="font-family: monospace;">all</span> is given, it recursively requests help for each name in the directory.<br>
For names associated with a closure the command will print a string
value associated with the name "<span style="font-family: monospace;">_help</span>". &nbsp;<br>
Other types of value
the command prints only the type of the value held. &nbsp;These,
however, are only included in the output if "<span style="font-family: monospace;">all</span>" is given on the
command line.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; help<br>help [all] - prints command information<br>set &lt;name&gt; &lt;expr&gt; - set value in environment<br>exit - abandon all command inputs<br>:<br>sys help - show subcommands<br>parse help - show subcommands<br>io help - show subcommands<br>:<br>echo &lt;whole line&gt; - prints the line out<br>eval &lt;expr&gt; - evaluate expression<br>sleep &lt;n&gt; - sleep for &lt;n&gt; milliseconds<br>len [&lt;env&gt;|&lt;closure&gt;|&lt;string&gt;] - number of elements in object<br></pre>
      <pre>&gt; sys help<br>run &lt;line&gt; - execute system &lt;line&gt;<br>uid &lt;user&gt; - return the UID of the named user<br>time - system calendar time in seconds<br>localtime &lt;time&gt; - broken down local time<br>utctime &lt;time&gt; - broken down UTC time<br>localtimef &lt;format&gt; &lt;time&gt; - formatted local time<br>utctimef &lt;format&gt; &lt;time&gt; - formatted UTC time<br></pre>
      <pre>&gt; enter [ e=echo, h=help, x=exit, o=1, t=2 ]<br>&gt; help<br>e &lt;whole line&gt; - prints the line out<br>h [all] [&lt;cmd&gt;] - prints information about commands<br>x - abandon all command inputs<br>&gt; help all<br>e &lt;whole line&gt; - prints the line out<br>h [all] [&lt;cmd&gt;] - prints information about commands<br>x - abandon all command inputs<br>o - int value<br>t - int value<br></pre>
      <pre>&gt; help exit<br>exit - abandon all command inputs<br></pre>
      <pre>&gt; sys help time<br>time - system calendar time in seconds<br>&gt; help sys.time<br>sys.time - system calendar time in seconds<br></pre>
      <pre>&gt; enter [fn = [_help="- my function"]:{echo _help!}, env = [x="variable"], var = "variable" ]<br>&gt; help<br>fn - my function<br>env help - show subcommands<br>&gt; help all<br>fn - my function<br>env &lt;subcommand&gt; - commands:<br>    x - string value<br>var - string value<br>&gt; env help<br>&gt; env help all<br>x - string value<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>if &lt;bool&gt; &lt;then-code&gt; &lt;else-code&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">if</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;test:bool&gt; &lt;then:code&gt; &lt;else:code&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Compares <span style="font-family: monospace;">test</span> with <span style="font-family: monospace;">FALSE</span> and then executes <span style="font-family: monospace;">then</span> if <span style="font-family: monospace;">test</span> was not <span style="font-family: monospace;">FALSE</span> and <span style="font-family: monospace;">else</span> otherwise. <br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Returns the value returned by the execution of <span style="font-family: monospace;">then</span> or <span style="font-family: monospace;">else</span>, depending on which was selected for execution.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; if 3 lt (rnd 6!) { echo "heads"! } { echo "tails"! }<br></pre>
      <pre>&gt; eval echo (if 3 lt (rnd 6!) {"heads"}{"tails"}!)!<br></pre>
      <pre>set doit[cmd]: {<br>    if 0 == (cmp cmd "exit"!) {<br>       FALSE<br>    }{<br>       eval cmd!;<br>       TRUE<br>    }!<br>}<br></pre>
      <pre><span style="font-family: monospace;"></span>&gt; if TRUE (echo "this") (echo "that")<br>this<br>&gt; if FALSE (echo "this") (echo "that")<br>that</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>inenv &lt;env&gt; &lt;name&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">inenv</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;env:clodir&gt; &lt;name&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>returns 0 unless string &lt;name&gt; has a value in &lt;env&gt;<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; inenv parse.env "inenv"<br>1<br></pre>
      <pre>&gt; inenv [a=NULL, b] "a"<br>1<br></pre>
      <pre>&gt; inenv [a=NULL, b] "b"<br>0<br></pre>
      <pre>&gt; inenv [a=NULL, b] "c"<br>0</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>invert &lt;bool&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">invert</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;b:int&gt;&nbsp;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes a booleans and returns the <span style="font-family: monospace;">TRUE</span> if the first is <span style="font-family: monospace;">FALSE</span>, or otherwise returns <span style="font-family: monospace;">FALSE</span>.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>Either the value <span style="font-family: monospace;">TRUE</span> or <span style="font-family: monospace;">FALSE</span>. &nbsp;When the argument is boolean the result is a boolean representing the not of <span style="font-family: monospace;">b</span><span style="font-family: monospace;"></span>.<span style="font-family: monospace;"><br>
      </span>See also: <span style="font-family: monospace;">TRUE</span>, <span style="font-family: monospace;">FALSE</span>, <span style="font-family: monospace;">if</span>, <span style="font-family: monospace;">and</span>,&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">invert</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; invert TRUE<br>FALSE<br>&gt; invert FALSE<br>TRUE<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>io close &lt;stream&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.close</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;open:stream&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Completes access to the given stream and makes it unavailable for future access
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; io close io.file "test" "w"!<br></pre>
      <pre>set log[msg]:{<br>    logstr = io.file "log" "w"!;<br>    io.write logstr msg!;<br>    io.write logstr "\n"!;<br>    io.close logstr;<br>}<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io err</h3>
<table style="text-align: left; width: 602px; height: 324px;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.err</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Read only value</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>The standard stream to use for error output. &nbsp;(The
same stream that is associated with <span style="font-family: monospace;">stderr</span> in C when the interpreter
was started.)<br>
See variables <span style="font-family: monospace;">io out</span> and <span style="font-family: monospace;">io in</span> too.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; io write io.err "Wrong!\n"<br>7<br></pre>
      <pre>set error[rc, msg]: {<br>    io.write io.err ""+(str rc!)+" "+(msg)+"\n"!<br>}</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io file &lt;filename&gt; &lt;rw&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.file</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;filename:string&gt; &lt;access:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>opens a file from the local filing system with name
filename to which the requested access is provided. &nbsp;The access
string consists of one or more of the following characters:<br>
      <ul>
        <li>"r" - open for read access</li>
        <li>"w" - open for write access</li>
      </ul>
Note that the binding "<span style="font-family: monospace;">file &lt;filename&gt;</span>" can be used as a generic object to represent something openable as a stream.<br>
      <br>
Once opened the resulting stream should eventually be closed using <span style="font-family: monospace;">io.close</span>.<br>
      <br>
See also: <span style="font-family: monospace;">io.pathfile</span>, <span style="font-family: monospace;">io.close</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">NULL</span> if the file could not be opened with the requested access otherwise a stream giving access (via <span style="font-family: monospace;">io.write</span> etc.) to the file&nbsp;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set exists[f]: { 0 != (cmp NULL (io.file f "r"!)!) }<br>&gt; exists "/tmp/gone"<br>FALSE<br>&gt; exists "ftl"<br>TRUE<br></pre>
      <pre>&gt; parse exec "" (io.file "script" "r"!)</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io fprintf &lt;stream&gt; &lt;format&gt; &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.fprintf</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;out:stream&gt; &lt;format:string&gt; &lt;args:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Writes the octets (bytes) of the
characters generated by the formatted interpretation of the arguments
in args according to the given format to the output stream provided.
&nbsp;The format and arguments are interpreted as specified by the <span style="font-family: monospace;">strf</span> function.<br>
The stream must have write access.<br>
See also: <span style="font-family: monospace;">strf</span>, <span style="font-family: monospace;">io.write</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The number of bytes written to the stream.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; io fprintf io.out "&#8364;1 = %[pounds]d.%[pennies]02d\n" [pennies=60, pounds=0]<br>&#8364;1 = 0.60<br>14<br></pre>
      <pre>&gt; set printf io.fprintf io.out<br>&gt; set n printf "sequence %02d %02d %02d %02d\n" &lt;5..8&gt;!<br>sequence 05 06 07 08<br>&gt; eval n<br>21<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>io getc</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.getc</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;in:stream&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Reads the next octet from the argument
stream as a string. &nbsp;If no more characters are available from the
stream (e.g. at the end of a file) then a NULL is given.<br>
The stream must be open for reading.<br>
See also: <span style="font-family: monospace;">io.read</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A string containing the next octet read from the given stream.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set sin io.instring "In" "r"!<br>&gt; io getc sin<br>"I"<br>&gt; io getc sin<br>"n"<br>&gt; io getc sin<br>&gt;<br></pre>
      <pre>set rev[st]:{<br>    .out="";<br>    .ch=NULL;<br>    while {NULL != (ch=io.getc st!)} {<br>        out=""+(ch)+(out);<br>    }!;<br>    out<br>}<br>&gt; set sin io.instring "able was I ere" "r"!<br>&gt; rev sin<br>"ere I saw elba"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io in</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.in</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Read only value</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>The standard stream to use for normal input. &nbsp;(The
same stream that is associated with <span style="font-family: monospace;">stdin</span> in C when the interpreter
was started.)<br>
See variables <span style="font-family: monospace;">io out</span> and <span style="font-family: monospace;">io err </span>too.
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; io in<br>&lt;-'&lt;stdin&gt;'<br></pre>
      <pre>set is_stdin[str]: { 0 == (cmp str io.in!) }</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io instring &lt;string&gt; &lt;rw&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.instring</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;input:string&gt; &lt;access:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>creates a stream from a string for reading from. &nbsp;The access
string consists of one or more of the following characters:<br>
      <ul>
        <li>"r" - open for read access</li>
        <li>"w" - open for write access</li>
      </ul>
However this type of string can only be opened for reading.
&nbsp;Nonetheless the binding "io.instring &lt;string&gt;" can be used
as a generic object to represent something openable as a stream. </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL if the string could not be opened with the requested access otherwise a stream giving access (via <span style="font-family: monospace;">parse.exec</span> etc.) to the file&nbsp;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; parse exec "" (io.instring "echo hi\necho there" "r"!)<br>hi<br>there<br></pre>
      <pre>&gt; set f io.instring "text to read\n" "r"!<br>&gt; io read f 4<br>"text"<br>&gt; io close f<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>io out</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.out</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Value</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>The standard stream to use for normal output. &nbsp;(The
same stream that is associated with <span style="font-family: monospace;">stdout</span> in C when the interpreter
was started.)<br>
See also: variables <span style="font-family: monospace;">io.err </span>and <span style="font-family: monospace;">io.in</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; io out<br>&lt;-EOF-&gt;<br></pre>
      <pre>set myecho[msg]: {<br>    io.write io.out msg!;<br>    io.write io.out "\n"!<br>}</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io outstring &lt;closure&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.outstring</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;code:closure&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Executes the given code with a stream argument that
when written to creates a string. &nbsp;The string created is returned
as a result of the function.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The string generated by writes in the closure</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; set s io.outstring [out]:{ forall &lt;..5&gt; {io.write out "line\n"!}! }!<br>&gt; echo $s<br>line<br>line<br>line<br>line<br>line<br></pre>
      <pre>&gt; set mystrf[fmt,args]:{io.outstring [out]:{io.fprintf out fmt args!}!}<br>&gt; mystrf "hi - %s" &lt;"you"&gt;<br>"hi - you"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>io pathfile &lt;path&gt; &lt;filename&gt; &lt;rw&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.pathfile</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;path:string&gt; &lt;filename:string&gt; &lt;access:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>opens a file from the local
filing system using the given directory path with name
filename and to which the requested access is provided. &nbsp;The
directory path &lt;path&gt; consists of a series of directory names
separated by the path separator character, which is ";" on Windows and
":" on other platforms. The access
string consists of one or more of the following characters:<br>
      <ul>
        <li>"r" - open for read access</li>
        <li>"w" - open for write access</li>
      </ul>
A file&nbsp;name is created from the concatenation of each directory on
the &lt;path&gt;, the operating system's file separator character (<span style="font-family: monospace;">sys.fs.sep</span>),
and the &lt;filename&gt;. &nbsp;An attempt to open each file name in
turn is made until either an attempt is successful or no further
directories are found.<br>
      <br>
Note that the binding "<span style="font-family: monospace;">pathfile &lt;path&gt; &lt;filename&gt;</span>" can be used as a generic object to represent something openable as a stream.<br>
      <br>
Once opened the resulting stream should eventually be closed using <span style="font-family: monospace;">io.close</span>.<br>
      <br>
See also: <span style="font-family: monospace;">sys.fs</span>, <span style="font-family: monospace;">io.file</span>, <span style="font-family: monospace;">io.close</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">NULL</span>
if the file could not be opened with the requested access in one of the
directories given in the path otherwise a stream giving access (via <span style="font-family: monospace;">io.write</span> etc.) to a file.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>set include [name]:{<br>    .rdf = NULL;<br>    if (inenv sys.env "MYPATH"!) {<br>        rdf = io.pathfile sys.env.MYPATH name "r"!;<br>    }{  rdf = io.file name "r"!;<br>    }!;<br>    if (equal NULL rdf!) { echo "can't read file "+(str name!)!; } {<br>        .ret = parse.exec "" rdf!;<br>        io.close rdf!;<br>        ret<br>    }!<br>}<br><br>&gt; include "hello"<br>hello world<br>&gt; set sys.env.MYPATH "."<br>&gt; include "hello"<br>hello world<br>&gt; set sys.env.MYPATH ".."<br>&gt; include "hello"<br>can't read file "hello"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io read</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.read</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;in:stream&gt; &lt;octets:integer&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Reads
up to the given number of octets from&nbsp;the argument stream as a string. &nbsp;If no more
characters are available from the stream (e.g. at the end of a file)
then a string of length 0 is given. &nbsp;If there are characters available then at least one will be returned.<br>
The stream must be open for reading.<br>
See also: <span style="font-family: monospace;">io.read</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A string containing at least one
character read from the given stream and up to the given number, unless
there are no more characters available, in which case an empy string is
returned.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set f io.file "/tmp/1" "r"!<br>&gt; io read f 50<br>"     Logs from Test inherited_option\n\n\nTest: inher"<br></pre>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io stringify &lt;stream&gt; &lt;expr&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.stringify</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;out:stream&gt; &lt;expr:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Writes the expression <span style="font-family: monospace;">expr</span> to the output stream in a syntax (where possible) that would be parsed to re-create the expression value.<br>
This function is equivalent to<br>
      <pre><span style="font-family: monospace;">    [stream, val]:{io.write stream (str val!)!} </span></pre>
The stream must have write access.<br>
See also: <span style="font-family: monospace;">io.fprintf</span>, <span style="font-family: monospace;">io.write</span>, <span style="font-family: monospace;">str</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The number of characters written to the output stream</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set n io.stringify io.out "that's \"\"s\n"!<br>"that\'s \"\xc2\xa3\xc2\xa3\xc2\xa3\"s\n"&gt;<br>&gt; eval n<br>41<br></pre>
      <pre>&gt; io stringify io.out [a=3, b="this", c=&lt;"one", 2, 3&gt;]<br>["a"=3,"b"="this","c"=&lt;"one", 2, 3&gt;]36<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>io write &lt;stream&gt; &lt;string&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">io.write</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;out:stream&gt; &lt;text:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Writes the octets (bytes) of the characters in text to the output stream provided.<br>
The stream must have write access.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The number of bytes written to the stream.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt;io write io.out "&#8364;1 = 0.60\n"<br>&#8364;1 = 0.60<br>14<br></pre>
      <pre>&gt; set n io.write io.out "that's \"\"s\n"!<br>that's ""s<br>&gt; eval n<br>17</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>joinchr &lt;delim&gt; &lt;str&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">joinchr</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;delim:strintnl&gt; &lt;vec:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Join a vector of characters and strings separated by delimiters. <br>
This function behaves the same way as join, but interprets integers in
the delimiter or in &nbsp;the vector as a character ordinal number from
the local "wide" character set.<br>
Each character ordinal number is converted into a string of bytes representing the identified character.<br>
See also: <span style="font-family: monospace;">join</span> and <span style="font-family: monospace;">split</span>.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>returns a string concatenating the items in the vector separated by the delimiter</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; eval echo (joinchr 167 &lt;"para1", "para2", "para3"&gt;!)!<br>para1para2para3</pre>
      <pre>&gt; eval echo (joinchr NULL &lt;915, 961, 945, 953&gt;!)!<br>&#915;&#961;&#945;&#953;</pre>
      <pre>&gt; set chshow [n]:{ echo (joinchr " " &lt;n .. 32+(n)&gt;!)! }<br>&gt; chshow 913<br>&#913; &#914; &#915; &#916; &#917; &#918; &#919; &#920; &#921; &#922; &#923; &#924; &#925; &#926; &#927; &#928; &#929; &#930; &#931; &#932; &#933; &#934; &#935; &#936; &#937; &#938; &#939; &#940; &#941; &#942; &#943; &#944; &#945;</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>join &lt;delim&gt; &lt;str&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">join</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;delim:strintnl&gt; &lt;vec:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Join a vector of octets and strings separated by delimiters.<br>
If the delimiter is NULL the items in the vector are simply concatenated.<br>
Any numbers occurring in the delimiter or in the vector are converted
into octets (bytes) that are &nbsp;incorporated into the string.
&nbsp;Such numbers are truncated to the normal octet range (0 to 255).<br>
See also: <span style="font-family: monospace;">joinchr</span> and <span style="font-family: monospace;">split</span>.
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>returns a string concatenating the items in the vector separated by the delimiter</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; join "/" &lt;"dir", "subdir", "file"&gt;<br>"dir/subdir/file"<br></pre>
      <pre>&gt; join 0 &lt;"line1", "line2"&gt;<br>"line1\0line2"<br></pre>
      <pre>&gt; join NULL &lt;0x41, " line", 0x320, "made from", 32, "bytes"&gt;<br>"A line made from bytes"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>len [&lt;env&gt;|&lt;closure&gt;|&lt;string&gt;]</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">len</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;obj:clodirstr&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Evaluates the number of elements in the directory, closure or string.<br>
The number of elements in a directory is the same as the number of name-value pairs in it.<br>
The number of elements in a closure&nbsp;is also the same as the number
of name-value pairs in it - any unbound names are not included and the
code value is not involved.<br>
The number of elements in a string is the number of bytes it contains.<br>
See also: <span style="font-family: monospace;">strlen</span>.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The number of elements in the argument</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; len "one\0two"<br>7<br></pre>
      <pre>&gt; len [a=5,b,c]<br>1<br></pre>
      <pre>&gt; len &lt;..4&gt;<br>4<br></pre>
      <pre>&gt; len ""<br>2<br></pre>
      <pre>&gt; set stack &lt;&gt;<br>&gt; set push [x]: { stack.(len stack!) = x; }<br>&gt; push "this"<br>&gt; push "that"<br>&gt; eval stack<br>&lt;"this", "that"&gt;<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>less &lt;val&gt; &lt;val&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">less</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;val1:any&gt; &lt;val2:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Compares
its first argument with the second and returns <span style="font-family: monospace;">TRUE</span> iff the first is strictly less than the second
and <span style="font-family: monospace;">FALSE</span> otherwise. The comparison is made as described in the <span style="font-family: monospace;">cmp</span> function.<br>
This function is identical to:<br>
      <pre>[val1, val2]: { 0 lt (cmp val1 val2!) }<br></pre>
See also:<span style="font-family: monospace;"> cmp</span>,&nbsp;<span style="font-family: monospace;">equal</span>,&nbsp;<span style="font-family: monospace;">notequal</span>, <span style="font-family: monospace;">more</span>,&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">moreeq</span>, <span style="font-family: monospace;">lesseq<br>
      </span>Normally this function is associated with the&nbsp;<span style="font-family: monospace;">lt</span> operator.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> or <span style="font-family: monospace;">FALSE</span></td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>set min[a,b]:{ if (less a b!){a}{b}! }<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>lesseq &lt;val&gt; &lt;val&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">lesseq</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;val1:any&gt; &lt;val2:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Compares
its first argument with the second and returns <span style="font-family: monospace;">TRUE</span> iff the first is less than, or equal to, the second
and <span style="font-family: monospace;">FALSE</span> otherwise. The comparison is made as described in the <span style="font-family: monospace;">cmp</span> function.<br>
This function is identical to:<br>
      <pre>[val1, val2]: { 0 le (cmp val1 val2!) }<br></pre>
See also:<span style="font-family: monospace;"> cmp</span>,&nbsp;<span style="font-family: monospace;">equal</span>, <span style="font-family: monospace;">more</span>, <span style="font-family: monospace;">lesss</span>, <span style="font-family: monospace;">moreeq</span>, <span style="font-family: monospace;">lesseq<br>
      </span>Normally this function is associated with the&nbsp;<span style="font-family: monospace;">le</span> operator.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> or <span style="font-family: monospace;">FALSE</span></td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>set inrange[x,low,high]: { 1 and (moreeq x low!) and (lesseq x high!) }<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>lock &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">lock</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;env:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Prevents the addition or removal of names from the
directory provided. &nbsp;It does not prevent the modification of
values associated with existing names. &nbsp;There is no associated <span style="font-family: monospace;">unlock</span> function.<br>
When a closure is locked the unbound variables can still be bound.<br>
See also: <span style="font-family: monospace;">new</span>.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><span style="font-family: monospace;">&gt; set milk [mon=4, tue=2, wed=4, thu=3, fri=3, sat=6, sun=0]<br>&gt; lock milk<br>&gt; set milk.mon 5<br>&gt; eval milk.mon<br>5<br>&gt; set milk.feb 4<br>ftl $*console*:6: can't set a value for "feb" here</span></pre>
      <span style="font-family: monospace;"></span>
      <pre><span style="font-family: monospace;">&gt; set config_empty []<br>&gt; lock config_empty</span></pre>
      <span style="font-family: monospace;"></span></td>
    </tr>
  </tbody>
</table>
<h3>logand &lt;bool&gt; &lt;bool&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">logand</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;b1:bool&gt; &lt;b2:bool&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two booleans and returns the <span style="font-family: monospace;">FALSE</span> if the first is <span style="font-family: monospace;">FALSE</span>, or otherwise returns the second.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>Either the value <span style="font-family: monospace;">FALSE</span> or the second argument. &nbsp;When both arguments are boolean the result is a boolean representing the anded combination of <span style="font-family: monospace;">b1</span> and <span style="font-family: monospace;">b2</span>.<span style="font-family: monospace;"><br>
      </span>See also: <span style="font-family: monospace;">TRUE</span>, <span style="font-family: monospace;">FALSE</span>, <span style="font-family: monospace;">if</span>, <span style="font-family: monospace;">logor</span>, <span style="font-family: monospace;">invert</span>, <span style="font-family: monospace;">bitand</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; logand TRUE TRUE<br>TRUE<br>&gt; logand TRUE FALSE<br>FALSE<br>&gt; logand FALSE TRUE<br>FALSE<br>&gt; logand FALSE FALSE<br>FALSE<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>logor &lt;bool&gt; &lt;bool&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">logor</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;b1:bool&gt; &lt;b2:bool&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two booleans and returns the <span style="font-family: monospace;">TRUE</span> if the first is not <span style="font-family: monospace;">FALSE</span>, or otherwise returns the second.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>Either the value <span style="font-family: monospace;">TRUE</span> or the second argument. &nbsp;When both arguments are boolean the result is a boolean representing the ored combination of <span style="font-family: monospace;">b1</span> and <span style="font-family: monospace;">b2</span>.<span style="font-family: monospace;"><br>
      </span>See also: <span style="font-family: monospace;">TRUE</span>, <span style="font-family: monospace;">FALSE</span>, <span style="font-family: monospace;">if</span>, <span style="font-family: monospace;">logand</span>, <span style="font-family: monospace;">invert</span>, <span style="font-family: monospace;">bitor</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; logor TRUE TRUE<br>TRUE<br>&gt; logor TRUE FALSE<br>TRUE<br>&gt; logor FALSE TRUE<br>TRUE<br>&gt; logor FALSE FALSE<br>TRUE<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>more &lt;val&gt; &lt;val&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">more</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;val1:any&gt; &lt;val2:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Compares
its first argument with the second and returns TRUE iff the first is strictly more than the second
and FALSE otherwise. The comparison is made as described in the <span style="font-family: monospace;">cmp</span> function.<br>
This function is identical to:<br>
      <pre>[val1, val2]: { 0 gt (cmp val1 val2!) }<br></pre>
See also:<span style="font-family: monospace;"> cmp</span>,&nbsp;<span style="font-family: monospace;">equal</span>, <span style="font-family: monospace;">notequal</span>, <span style="font-family: monospace;">less</span>, <span style="font-family: monospace;">moreeq</span>, <span style="font-family: monospace;">lesseq<br>
      </span>Normally this function is associated with the <span style="font-family: monospace;">gt</span> operator.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> or <span style="font-family: monospace;">FALSE</span></td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>set max[a,b]:{ if (more a b!){a}{b}! }<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>moreeq &lt;val&gt; &lt;val&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">moreeq</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;val1:any&gt; &lt;val2:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Compares
its first argument with the second and returns TRUE iff the first is more than, or equal to, the second
and FALSE otherwise. The comparison is made as described in the <span style="font-family: monospace;">cmp</span> function.<br>
This function is identical to:<br>
      <pre>[val1, val2]: { 0 ge (cmp val1 val2!) }<br></pre>
See also:<span style="font-family: monospace;"> cmp</span>,&nbsp;<span style="font-family: monospace;">equal</span>, <span style="font-family: monospace;">notequal</span>, <span style="font-family: monospace;">more</span>, <span style="font-family: monospace;">less</span>,&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">lesseq<br>
      </span>Normally this function is associated with the <span style="font-family: monospace;">ge</span> operator.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> or <span style="font-family: monospace;">FALSE</span></td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>set inrange[x,low,high]: { (moreeq x low!) and (lesseq x high!) }<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>mul &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left; width: 477px; height: 272px;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">mul</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;n1:int&gt; &lt;n2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two integers and multiplies them together.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer with the value n1*n2.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;">add</span>, <span style="font-family: monospace;">sub</span>,<span style="font-family: monospace;"></span> <span style="font-family: monospace;">div</span>, <span style="font-family: monospace;">shiftl</span>, <span style="font-family: monospace;">shiftr, neg</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; mul 7 24<br>168<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>neg &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">neg</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;n:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes an integer and returns its negated value.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer with the value -<span style="font-family: monospace;">n</span>.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;">add</span>, <span style="font-family: monospace;">sub</span>, <span style="font-family: monospace;">mul</span><span style="font-family: monospace;"></span>, <span style="font-family: monospace;">shiftl</span>, <span style="font-family: monospace;">shiftr</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; neg 10<br>-10<br>&gt; neg -10<br>10<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>new &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">new</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;env:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Creates a new copy of the argument made by&nbsp;copying
each name-value pair in the argument. &nbsp;Note, though, that it does
not make copies of the values copied.<br>
      <br>
Bug: does not copy unbound variables, but does copy code body in closure<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set base [val=1]<br>&gt; set copy1 base<br>&gt; set copy2 (new base!)<br>&gt; set base.val 2<br>&gt; eval copy1<br>["val"=2]<br>&gt; eval copyoct2<br>["val"=1]<br></pre>
      <pre>&gt; <br>&gt; set class [val=0]:{ [read=[]:{val}, write=[n]:{val=n;}] }<br>&gt; set rw1 class!<br>&gt; set rw2 class!<br>&gt; eval rw1.write 42!<br>&gt; eval rw2.read!<br>42<br>&gt; # oops!<br>&gt;<br>&gt; set class [val=0]:{ [read=[]:{val}, write=[n]:{val=n;}] }<br>&gt; set rw1 (new class!)!<br>&gt; set rw2 (new class!)!<br>&gt; eval rw1.write 42!<br>&gt; eval rw2.read!<br>0<br>&gt; eval rw1.read!<br>42</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>notequal &lt;val&gt; &lt;val&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">notequal</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;val1:any&gt; &lt;val2:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Compares
its first argument with the second and returns TRUE iff they are not equal
and FALSE otherwise. The comparison is made as described in the <span style="font-family: monospace;">cmp</span> function.<br>
This function is identical to <br>
      <pre>[val1, val2]: { 0 != (cmp val1 val2!) }<br></pre>
See also:<span style="font-family: monospace;"> cmp</span>,&nbsp;<span style="font-family: monospace;">equal</span>, <span style="font-family: monospace;">more</span>, <span style="font-family: monospace;">less</span>, <span style="font-family: monospace;">moreeq</span>, <span style="font-family: monospace;">lesseq<br>
      </span>Normally this function is associated with the&nbsp;<span style="font-family: monospace;">!=</span> operator.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> or <span style="font-family: monospace;">FALSE</span></td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>{   if (notequal var NULL!) {  <br>        do_something_with var!<br>    }{}!<br>}<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>NULL</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">NULL</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Value</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>(no args)</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Provides access to the only value in the "nul" type.
&nbsp;This can be used to provide a value that is guaranteed not to be
equal to values of other types.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>string of (multi-octet) characters with ordinal <span style="font-family: monospace;">widechar</span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; set newobj [name1=NULL, name2=NULL]<br></pre>
      <pre>&gt; set lastval NULL<br>&gt; set val[n]: { lastval=n }</pre>
      <pre>&gt; cmp NULL ({}!)<br>0</pre>
      <pre>{   rc = fn!;<br>    if (rc.error_occured) {NULL} {rc.answer}!<br>}<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>octet &lt;int&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">octet</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;byte:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns single byte string containing the given octet<br>
See also: <span style="font-family: monospace;">chr</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A string of <span style="font-family: monospace;">len</span> 1 whose only octet has the ordinal number provided.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; echo Wow${octet 46!}<br>Wow.<br></pre>
      <pre>&gt; octet 0<br>"\0"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>octetcode &lt;char&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">octetcode</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;char:string&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Returns the ordinal position of the first byte (octet) in its argument in the current
locale's character set.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer containing the ordinal number.<span style="font-family: monospace;"><br>
      </span>See also: <span style="font-family: monospace;">octet</span>, <span style="font-family: monospace;">chrcode</span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; eval ""<br>"\xc2\xa3"<br>&gt; octetcode "\xc2\xa3"<br>164</pre>
      <pre>&gt; set dump[a]:{<br>&gt;     forall (split NULL a!) [x]:{<br>&gt;         io.write io.out " "+(strf "%02x" (octetcode x!)!)!<br>&gt;     }!; <br>&gt;     io.write io.out "\n"!;<br>&gt; }<br>&gt; dump "hexadecimal"<br> 68 65 78 61 64 65 63 69 6d 61 6c<br><span style="font-weight: bold;"></span></pre>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h3>parse argv</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.argv</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Directory</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>A read-only vector of command line argument strings.
&nbsp;The value with name 0 is the command, as invoked. &nbsp;(Compare
with <span style="font-family: monospace;">parse.codeid</span>)&nbsp; <br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Not a function<br>
      </td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>% ftl -- one two<br>:<br>&gt; eval parse.argv<br>[0="ftl", 1="one", 2="two"]     <br></pre>
      <pre>/usr/bin/ftl -- --myopt val<br>:<br>&gt; eval parse.codeid!<br>"ftl"<br>&gt; eval parse.argv.0<br>"/usr/bin/ftl"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse codeid</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.codeid</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>None</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns an identification assigned to the interpreter by the invoker.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A string containing the name of the interpreter assigned by the library-using application</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; parse codeid<br>"ftl"<br></pre>
      <pre>&gt; set err[msg]:{<br>&gt;     io.write io.err ""+(parse.codeid!)+": "+(msg)+"\n"!;<br>&gt; }<br>&gt; err "something wrong"<br>ftl: something wrong<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse env</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.env</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>None</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>When run this function returns a directory containing all the names and values in scope at the point of execution. &nbsp;<br>
See also: <span style="font-family: monospace;">restrict</span>, <span style="font-family: monospace;">parse.root</span>, <span style="font-family: monospace;">parse.local</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The current invocation environment.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; join " " (sortdom (parse.env!)!)<br>"FALSE NULL TRUE chr chrcode cmd cmp collate do domain echo enter equal eval every <br>exit fmt forall help if inenv int io ip join joinchr len less lesseq lock mac more <br>moreeq new notequal octet octetcode parse range restrict return rnd set sleep sort <br>sortby sortdom sortdomby source sourcetext split str strf strlen sys tolower toupp<br>er type typename typeof while"<br></pre>
      <pre>&gt; set extra [val1=1, val2=2]:{ domain (parse.local!)! }<br>&gt; extra<br>&lt;"val2", "val1", "extra", "push", "stack", "len", "sleep", "eval", "echo", "cmd", <br>"every", "sortdomby", "sortby", "sortdom", "sort", "range", "domain", "restrict", <br>...<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse errors</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.errors</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>(no argument)</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Provides an indication of the number of errors so far
encountered. &nbsp;If this number is greater than zero most
interpreters will pass back a non-zero return code to their execution
environment.<br>
Also see <span style="font-family: monospace;">parse.errors_reset</span> and <span style="font-family: monospace;">parse.newerror</span>.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td> total number of errors encountered by parser</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; parse errors<br>5<br></pre>
      <pre>if 0 == (parse.errors!) { } { <br>    echo "Parse failed with "+(str (parse.errors!)!)+"errors"! <br>}!</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse errors_reset &lt;errors&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.errors_reset</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;errors:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Resets the number of errors so far encountered to <span style="font-family: monospace;">errors</span>. &nbsp;If this
number is greater than zero most interpreters will pass back a non-zero
return code to their execution environment.<br>
Also see <span style="font-family: monospace;">parse.errors</span> and <span style="font-family: monospace;">parse.newerror</span>.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td> total number of errors encountered by parser</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; parse errors_reset<br>&gt; parse errors<br>0<br></pre>
      <pre>{   saved = parse.errors!;<br>    dodgy_function!;<br>    parse.errors_reset saved!;<br>}!</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse exec &lt;cmds&gt; &lt;stream&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.exec</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;cmds:string&gt; &lt;in:stream&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Executes the commands in the given string and then
reads further commands from the given stream and executes them,
returning once the commands have been read. &nbsp;The value generated
by the last command is then returned.<br>
If the intitial commands string is <span style="font-family: monospace;">NULL</span> it is ignored.<br>
If the stream is <span style="font-family: monospace;">NULL</span> (e.g. unopened) it is ignored. <br>
See also: <span style="font-family: monospace;">source</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The value returned by the last command executed.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set script_in io.instring "e restricted; e script; x" "r"!<br>&gt; parse exec "restrict [e=echo, x=exit]" script_in<br>restricted<br>script</pre>
      <pre>&gt; sys run cat /tmp/1<br>"Temporary script"<br>&gt; set run[script]:{ parse.exec "" (io.file script "r"!)! }<br>&gt; set result run "/tmp/1"!<br>"Temporary script"<br>&gt; eval result<br>"Temporary script"<br></pre>
      <pre>&gt; parse exec "echo command line" NULL<br>command line</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse local</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.local</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>None</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>When run this function returns a
directory containing all the names and values in scope locally. (That
is in the most recently established environment forming part of the
execution environment). &nbsp;<br>
See also: <span style="font-family: monospace;"></span><span style="font-family: monospace;">parse.root</span>, <span style="font-family: monospace;">parse.env</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The local invocation environment (in which local variables are created).</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set extra [domain=domain, parse=parse]::{ domain (parse.local!)! }<br>&gt; extra<br>&lt;"parse", "domain"&gt;<br>&gt; set extra [val1=1, val2=2]:{ domain (parse.env!)! }<br>&gt; extra<br>&lt;"val1", "val2", "help", "set", "exit", "forall", "if", "while", "do", "sys", <br>"parse", "io", "source", "sourcetext", "return", "typeof", "typename", "cmp", <br>...<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse line</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.line</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>None</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns the line number in the current source of
characters being interpreted. &nbsp;The character soruce used is the
one that was selected at the first character of the last command
executed.<br>
See also: <span style="font-family: monospace;">parse.source</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The current line number.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; parse line<br>27<br></pre>
      <pre>&gt; set thisline[]:{ echo "line "+(str (parse.line!)!)! }<br>&gt; parse exec "echo init; thisline" (io.instring "thisline" "r"!)<br>init<br>line 1<br>line 2<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse newerror</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.newerror</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>(no argument)</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Adds one to the number of errors registered encountered by the parser.<br>
Also see <span style="font-family: monospace;">parse.errors</span> and <span style="font-family: monospace;">parse.errors_reset</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set myerror[msg] {<br>    echo msg!;<br>    parse.newerror!;&nbsp;<br>}<br></pre>
      <pre>&gt; parse errors<br>17<br>&gt; parse newerror<br>&gt; parse errors<br>18</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse assoc</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.assoc</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Directory</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This
directory names the different kinds of operator associativity that are
meaningful in operator definitions. &nbsp;The values are integers that
can be used in operator definitions. &nbsp;The names are strings of up
to three characters constructed: <br>
      <div style="text-align: center;"><span style="font-family: monospace;">&lt;left-hand associativity&gt;f&lt;right-hand associativity&gt;</span> <br>
      </div>
in which a prefix operator has no left hand associativity, a postfix
operator has no right hand associativity but an infix operator has
both. &nbsp;Where it exists the associativity is specified either as
"x" or "y". &nbsp;An "x" indicates that no association is possible: any
argument on the relevant side must have higher precidence. &nbsp;A "y"
indicates that other operators at the same precidence are possible on
that side. &nbsp;In consequence a series of "xfy" operators will
associate to the left:<br>
      <div style="text-align: center;"><span style="font-family: monospace;">a xfy b xfy c = (a xfy b) xfy c</span><br>
      </div>
and a series of "yfx" operators will associate to the right:<br>
      <div style="text-align: center;"><span style="font-family: monospace;">a yfx b yfx b = a yfx (b yfx b)</span><br>
      </div>
Also see <span style="font-family: monospace;">parse.op</span>, <span style="font-family: monospace;">parse.opset</span> and <span style="font-family: monospace;">parse.scanop</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; domain parse.assoc<br>&lt;"yfy", "yfx", "xfy", "xfx", "xf", "yf", "fx", "fy"&gt;<br></pre>
      <pre>&gt; parse opset parse.op 3 parse.assoc.xfx "eq" equal<br>&gt; eval 9 eq 9<br>TRUE<br>&gt; # xfx is non-associative <br>&gt; eval 9 eq 7 eq 5<br>ftl $*console*:116: undefined symbol 'eq'<br>ftl $*console*:116: trailing text in expression: ...5<br>ftl $*console*:116: warning - trailing text '5'<br></pre>
      <pre><span style="font-family: monospace;"></span>&gt; set assocstr[as]:{ (domain (select (equal as) parse.assoc!)!).0 }<br>&gt; assocstr 2<br>"fy"<br>&gt; assocstr parse.assoc.xfy<br>"xfy"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse op</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.op</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Directory</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This directory is the
definition of a set of operators. &nbsp;This specific directory is one
used by the default parser, and so opertor definitions that appear in
it will be part of the language.<br>
      <br>
Such definitions are numerically indexed from zero contiguously.
&nbsp;The index determines the relative precidence between operators.
&nbsp;Each entry is itself a directory of name-value pairs in which the
names are operator names and the values are directories with values for
the names "<span style="font-family: monospace;">assoc</span>" and "<span style="font-family: monospace;">fn</span>". &nbsp;The associativity and arity of the operator is determined by the value given to "<span style="font-family: monospace;">assoc</span>" and may take one of the values held in <span style="font-family: monospace;">parse.assoc</span> (with meaning described there). &nbsp;The function that is executed to represent the operator is given to "<span style="font-family: monospace;">fn</span>".
&nbsp;This will be a closure with two unbound variables if the operator
is diadic, and with one unbound variable if it is monadic.<br>
      <br>
Although the function <span style="font-family: monospace;">parse.opset</span>
can be used to create new entries in this directory, the data can also
be inspected, rewritten or altered by the user in any other way.<br>
      <br>
Also see <span style="font-family: monospace;">parse.assoc</span>, <span style="font-family: monospace;">parse.opset</span> and <span style="font-family: monospace;">parse.scanop</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set forops[opdefs, fn]:{<br>&gt;     forall parse.op [precfns, prec]:{<br>&gt;         forall precfns [precfn, name]:{<br>&gt;             fn name prec precfn.assoc precfn.fn!<br>&gt;         }!<br>&gt;     }!<br>&gt; }<br>&gt; set assocstr[as]:{ (domain (select (equal as) parse.assoc!)!).0 }<br>&gt; set printf io.fprintf io.out<br>&gt; forops parse.op [name, prec, assoc, fn]:{<br>&gt;     printf "%3d: %3s %v\n" &lt;prec, assocstr assoc!, name&gt;!;<br>&gt; }<br>  0: xfy "or"<br>  1: xfy "and"<br>  2:  fy "not"<br>  3: xfx "=="<br>  3: xfx "!="<br>  3: xfx "lt"<br>  3: xfx "le"<br>  3: xfx "gt"<br>  3: xfx "ge"<br>  4: xfy "shl"<br>  4: xfy "shr"<br>  5:  fy "-"<br>  6: xfy "+"<br>  6: xfy "-"<br>  7: xfy "*"<br>  7: xfy "/"<br></pre>
      <pre>&gt; # ignore operators from now on:<br>&gt; set parse.op NULL<br></pre>
      <pre>&gt; eval parse.op.4.shr<br>["fn"=["_help"="&lt;n1&gt; &lt;n2&gt; - return n1 right shifted by n2 bits", "_1", "_2"]::<br>&lt;func:0x805c5d9,2&gt;, "assoc"=7]<br>&gt; eval parse.op.4.shr.fn 16 2!<br>4<br>&gt; eval 16 shr 2<br>4<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse opset &lt;opdefs&gt; &lt;prec&gt; &lt;assoc&gt; &lt;name&gt; &lt;function&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.opset</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;opdefs:dir&gt; &lt;prec:int&gt; &lt;assoc:int&gt; &lt;name:string&gt; &lt;function:closure&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function modifies the operator definition <span style="font-family: monospace;">opdefs</span>
so that it includes or replaces an entry that defines a new operator
with the given name as having the precidence indicated by <span style="font-family: monospace;">prec</span>, the associativity indicated by <span style="font-family: monospace;">assoc</span>, and which will be implemented by the given <span style="font-family: monospace;">function</span>. &nbsp;<br>
The associativity must be one of the integers held by <span style="font-family: monospace;">parse.assoc</span>.<br>
The directory created will be have entries for separate precidences as indicated by the <span style="font-family: monospace;">prec</span>
argument. &nbsp;Note, however, that when the definitions come to be
used (e.g. in <span style="font-family: monospace;">parse.opeval</span>) a continuous range of precidences from zero upward is expected.
&nbsp;For this reason it may be necessary to apply the definitions to
the <span style="font-family: monospace;">range</span> function before they are used.<br>
This function can be used to prepare a new set of operation definitions for <span style="font-family: monospace;">parse.op</span>.<br>
Also see <span style="font-family: monospace;">parse.assoc</span>, <span style="font-family: monospace;">parse.op</span> and <span style="font-family: monospace;">parse.scanop</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set ops &lt;&gt;           # op definitions with explicit priorities<br>&gt;<br>&gt; parse opset ops 6  parse.assoc."fy"  "_ng_"  neg<br>&gt; parse opset ops 8  parse.assoc."xfy" "_sb_"  sub<br>&gt; parse opset ops 8  parse.assoc."yfx" "_rsb_" [x,y]:{y-x}  # reverse subtract<br>&gt; parse opset ops 10 parse.assoc."fy"  "_mi_"  neg<br>&gt;<br>&gt; set opdef range ops! # op definitions with relative priorities<br>&gt;<br>&gt; parse opeval opdef {20 _sb_ 4}<br>16<br>&gt; parse opeval opdef {15 _rsb_ 30}<br>15<br>&gt; parse opeval opdef {20 _rsb_ 15 _rsb_ 30} # 20 _rsb_ (15 _rsb_ 30)<br>-5<br>&gt; parse opeval opdef {20 _sb_ 4 _sb_ 6}     # (20 _sb_ 4) _sb_ 6<br>10<br>&gt; parse opeval opdef {_ng_ 20 _sb_ 4}       # _ng_ (20 _sb_ 4)<br>-16<br>&gt; parse opeval opdef {_mi_ 20 _sb_ 4}       # (_mi_ 20) _sb_ 4<br>-24<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse opeval &lt;opdefs&gt; &lt;code&gt;</h3>
<table style="text-align: left; width: 690px; height: 1125px;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.opeval &lt;opdefs&gt; &lt;code&gt;</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;opdefs:dir&gt; &lt;code:code&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function uses the operator definitions held in opdefs to evaluate the expression held in the given code value.<br>
Also see <span style="font-family: monospace;">parse.assoc</span>, <span style="font-family: monospace;">parse.op</span>, <span style="font-family: monospace;">parse.opset</span> and <span style="font-family: monospace;">parse.scanop</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The result of evaluating the expression.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set ops &lt;&gt;      # op definitions with explicit priorities<br>&gt; set opdef NULL  # op definitions with relative priorities<br>&gt;<br>&gt; set opset[pri, as, name, fn]:{<br>&gt;     parse.opset ops pri parse.assoc.(as) name fn!;<br>&gt;     opdef = range ops!;<br>&gt; }<br>&gt;<br>&gt; # unquoted value format<br>&gt; set fmt.t [f,p,v]:{ if (equal "string" (typename v!)!) {v} {str v!}!}<br>&gt;<br>&gt; set diadic[strf=strf,name,l,r]::{ strf "(%s %t %t)" &lt;name, l, r&gt;! }<br>&gt; set monadic[strf=strf,name,lr]::{ strf "(%s %t)" &lt;name, lr&gt;! }<br>&gt; opset 6 "fy" "fy" (monadic "fy")<br>&gt; opset 6 "fx" "fx" (monadic "fx")<br>&gt; opset 6 "yfy" "yfy" (diadic "yfy")<br>&gt; opset 6 "xfx" "xfx" (diadic "xfx")<br>&gt; opset 6 "xfy" "xfy" (diadic "xfy")<br>&gt; opset 6 "yfx" "yfx" (diadic "yfx")<br>&gt; opset 6 "yf" "yf" (monadic "yf")<br>&gt; opset 6 "xf" "xf" (monadic "xf")<br>&gt; opset 8 "fy" "Fy" (monadic "Fy")<br>&gt; opset 8 "fx" "Fx" (monadic "Fx")<br>&gt; opset 8 "yfy" "yFy" (diadic "yFy")<br>&gt; opset 8 "xfx" "xFx" (diadic "xFx")<br>&gt; opset 8 "xfy" "xFy" (diadic "xFy")<br>&gt; opset 8 "yfx" "yFx" (diadic "yFx")<br>&gt; opset 8 "yf" "yF" (monadic "yF")<br>&gt; opset 8 "xf" "xF" (monadic "xF")<br>&gt;<br>&gt; set opeval[expr]: { parse.opeval opdef expr! }<br>&gt;<br>&gt; opeval {4}<br>4<br>&gt; opeval {"str"}<br>"str"<br>&gt; opeval {&lt;3&gt;}<br>&lt;3&gt;<br>&gt; opeval {(4)}<br>4<br>&gt; opeval {5 xfy 6}<br>"(xfy 5 6)"<br>&gt; opeval {5 yfx 6}<br>"(yfx 5 6)"<br>&gt; opeval {5 yfy 6}<br>"(yfy 5 6)"<br>&gt; opeval {5 xfx 6}<br>"(xfx 5 6)"<br>&gt; opeval {fx 7}<br>"(fx 7)"<br>&gt; opeval {fy 7}<br>"(fy 7)"<br>&gt; opeval {4 xf}<br>"(xf 4)"<br>&gt; opeval {4 yf}<br>"(yf 4)"<br>&gt; opeval {5 xfy 6 xfy 7}<br>"(xfy (xfy 5 6) 7)"<br>&gt; opeval {5 yfx 6 yfx 7}<br>"(yfx 5 (yfx 6 7))"<br>&gt;<br>&gt; opeval {3-4}<br>ftl $*console*:131: code has trailing text: ...-4<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h3>parse root</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.root</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>None</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>When run, this function returns a directory
containing all the names and values in the directory in scope at the
start of execution. &nbsp;Note that additions or deletions to the
directory may have been made, but none of the values held in argument
directories or <span style="font-family: monospace;">enter</span>ed directories will be visible.<br>
As with other functions access to this command can be eliminated using the <span style="font-family: monospace;">restrict</span> function.<br>
See also: <span style="font-family: monospace;">parse.env</span>, <span style="font-family: monospace;">parse.local</span> and <span style="font-family: monospace;">enter</span>.
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The root directory.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; restrict [exit=exit, help=help, domain=domain, parse=parse, enter=enter]<br>&gt; enter [local=parse.local, env=parse.env, root=parse.root]<br>&gt; help<br>local - return local current invocation directory<br>env - return current invocation environment<br>root - return current root environment<br>&gt; domain (parse.local!)<br>&lt;"local", "env", "root"&gt;<br>&gt; domain (parse.env!)<br>&lt;"local", "env", "root", "exit", "help", "domain", "parse", "enter"&gt;<br>&gt; domain (parse.root!)<br>&lt;"help", "set", "exit", "forall", "if", "while", "do", "sys", "parse", "io", <br>"source", "sourcetext", "return", "typeof", "typename", "cmp", "type", "NULL", <br>"rnd", "int", "TRUE", "FALSE", "equal", "notequal", "less", "lesseq", "more", <br>"moreeq", "fmt", "str", "strf", "collate", "toupper", "tolower", "strlen", <br>"octet", "chr", "octetcode", "chrcode", "split", "join", "joinchr", "ip", <br>"mac", "new", "lock", "inenv", "enter", "restrict", "domain", "range", "sort", <br>"sortdom", "sortby", "sortdomby", "every", "cmd", "echo", "eval", "sleep", <br>"len"&gt;<br>&gt;<br>&gt; # leaving parse.root available gives people access to all the commands:<br>&gt; domain (myrun=(parse.root!).sys.run)<br>&lt;"_help"&gt;<br>&gt; myrun pwd<br>/home/cgg/tree/clean/v5/src<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse scan &lt;cmd&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scan</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;cmd:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function prepares a
string for parsing by subsequent parse functions. &nbsp;It returns a
parse object which contains the part of the string that has not yet
been parsed. &nbsp;In general, successful parse functions consume the
initial part of this string and update the object. &nbsp;The string
remaining can be inspected using the parse.scanned function.<br>
See also:&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A parse object which can be used as an argument to other <span style="font-family: monospace;">parse.scan*</span> functions.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set p parse.scan "123 identifier"!<br>&gt; parse scanned p<br>"123 identifier"<br>&gt; parse scanint @n p<br>TRUE<br>&gt; parse scanned p<br>" identifier"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse scanned &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanned</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This
function expects a parse object as an argument that was initially created by <span style="font-family: monospace;">parse.scan. It </span>is used to retrieve the part of string remaining to be parsed.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;"></span><span style="font-family: monospace;">scan&lt;others&gt;</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>This string contained by a parse object that remains to be consumed by parse functions.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set p parse.scan "123 identifier"!<br>&gt; parse scanned p<br>"123 identifier"<br>&gt; parse scanint @n p<br>TRUE<br>&gt; parse scanned p<br>" identifier"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse scanempty &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanempty</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as an argument that was initially created by <span style="font-family: monospace;">parse.scan</span>
and which contains the remainder of the string to be parsed. &nbsp;If it is
an empty string, with no characters in it. &nbsp;It will return <span style="font-family: monospace;">TRUE</span>, otherwise it returns <span style="font-family: monospace;">FALSE</span>.<br>
The intended use of this function is to ensure that the existing
parsing of a string is complete - and to ensure that there is no
trailing text.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> if an empty string was parsed, <span style="font-family: monospace;">FALSE</span> otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse scanwhite &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanwhite</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as an argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. &nbsp;&nbsp;If the string begins with white space characters
(spaces, newlines, tabs etc.) it will return <span style="font-family: monospace;">TRUE</span> and update the parse object
with the remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>.<br>
The
intended use of this function is to skip over white space that may separate other elements to parse.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> if one or more white space characters were parsed, <span style="font-family: monospace;">FALSE</span> otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse scanspace&nbsp;&lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanspace</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as an argument that was initially created by <span style="font-family: monospace;">parse.scan</span>
and which contains the remainder of the string to be
parsed.&nbsp;&nbsp;If the string begins with white space characters
(spaces,
newlines, tabs etc.) it will update parseobj.0 with the
remainder of the string. It will always return TRUE.<br>
The
intended use of this function is to skip over semantically insignificant white space that may separate other elements to parse.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>TRUE.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse scanint &lt;@int&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanwint</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;ref_int:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as its last argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. If the string begins with an integer it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds the value of the hexadecimal parsed is applied to the <span style="font-family: monospace;">ref_int</span> closure as an integer.<br>
The
intended use of ref_int is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> if a number is parsed, <span style="font-family: monospace;">FALSE</span> otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set numid[p,ref_n,ref_id]:{<br>&gt; (parse.scanint ref_n p)! (parse.scanwhite p)! <br>&gt; (parse.scanid ref_id p)! (parse.scanempty p)!<br>&gt; }<br>&gt; numid (parse.scan "7 baloons"!) @howmany @what<br>TRUE<br>&gt; eval howmany<br>7<br>&gt; eval what<br>"baloons"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse scanhex &lt;@int&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanhex</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;ref_int:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as its last argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. If the string begins with a hexadecimal integer it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds the value of the hexadecimal parsed is applied to the <span style="font-family: monospace;">ref_int</span> closure as an integer.<br>
The
intended use of ref_int is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> if a hexadecimal number were parsed, <span style="font-family: monospace;">FALSE</span> otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse scanhexw &lt;width&gt; &lt;@int&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanhexw</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;width:int&gt; &lt;ref_int:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>TThis function expects a parse object its last argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. If the string begins with exactly <span style="font-family: monospace;">width</span> hexadecimal characters it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds the value of the hexadecimal parsed is applied to the <span style="font-family: monospace;">ref_int</span> closure as an integer.<br>
The
intended use of ref_int is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> if <span style="font-family: monospace;">width</span> hexadecimal characters were parsed, <span style="font-family: monospace;">FALSE</span> otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse scanstr &lt;@string&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanstr</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;ref_string:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as its last argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. If the string begins with a quoted string it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds the characters of the parsed string applied to the <span style="font-family: monospace;">ref_string</span> closure as a string.<br>
The
intended use of ref_string is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>TRUE if a string is parsed, FALSE otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse scanid &lt;@string&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanid</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;ref_string:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as its last argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. If the string begins with a identifier (that is an
alphabetic character (or '_') followed by a number of alphanumeric (or
'_') characters) it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds the characters of the parsed identifier applied to the <span style="font-family: monospace;">ref_string</span> closure as a string.<br>
The
intended use of ref_string is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span>&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>TRUE if an identifier is parsed, FALSE otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set numid[p,ref_n,ref_id]:{<br>&gt; (parse.scanint ref_n p)! (parse.scanwhite p)! <br>&gt; (parse.scanid ref_id p)! (parse.scanempty p)!<br>&gt; }<br>&gt; numid (parse.scan "7 baloons"!) @howmany @what<br>TRUE<br>&gt; eval howmany<br>7<br>&gt; eval what<br>"baloons"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse scanitem &lt;delims&gt; &lt;@string&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanitem</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;delims:string&gt; &lt;ref_string:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as its last argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. If the string begins with a sequence of non-delimiter
characters (delimiter characters are those from the string <span style="font-family: monospace;">delims</span>) it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds the characters of the parsed item applied to the <span style="font-family: monospace;">ref_string</span> closure as a string.<br>
The
intended use of ref_string is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>TRUE if one or more non-delimiter characters were parsed, FALSE otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse scanitemstr &lt;@string&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanitemstr</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;ref_string:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as an argument that was initially created by <span style="font-family: monospace;">parse.scan</span>
and which contains the remainder of the string to be parsed. &nbsp;If
the string begins with either a sequence of non-white characters or a
quoted string it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds a characters of the parsed item or string are applied to the <span style="font-family: monospace;">ref_string</span> closure.<br>
The
intended use of ref_string is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>TRUE if an item or a quoted string is parsed, FALSE otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse scanmatch &lt;prefixes&gt; &lt;@string&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanmatch</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;prefixes:dir&gt; &lt;ref_val:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as an argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. The first argument is a directory of name-value pairs.
&nbsp;This function attempts to parse one of the names as a prefix in
the string. &nbsp;If the string begins one of the names it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds the value associated with the parsed name in&nbsp;<span style="font-family: monospace;">prefixes</span> is applied to the <span style="font-family: monospace;">ref_val</span> closure.<br>
The
intended use of ref_string is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span><span style="font-family: monospace;"></span><span style="font-family: monospace;"></span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> if an prefix contained in <span style="font-family: monospace;">delims</span> is parsed, <span style="font-family: monospace;">FALSE</span> otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set cmd "a long line\n"<br>&gt; set translations [a=5, line="LINE", long=&lt;99&gt;]<br><br>&gt; set toparse parse.scan cmd!<br><br>&gt; set tran NULL<br>&gt; parse scanmatch translations @tran toparse<br>TRUE<br>&gt; parse scanned toparse<br>" long line\n"<br>&gt; eval tran<br>5<br><br>&gt; parse scanspace toparse<br>TRUE<br><br>&gt; parse scanmatch translations @tran toparse<br>TRUE<br>&gt; parse scanned toparse<br>" line\n"<br>&gt; eval tran<br>&lt;99&gt;<br><br>&gt; parse scanspace toparse<br>TRUE<br><br>&gt; parse scanmatch translations @tran toparse<br>TRUE<br>&gt; parse scanned toparse<br>"\n"<br>&gt; eval tran<br>"LINE"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>parse scanops &lt;baseparse&gt; &lt;opdefs&gt; &lt;@string&gt; &lt;parseobj&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.scanops</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;baseparse:closure&gt; &lt;opdefs:dir&gt; &lt;ref_val:closure&gt; &lt;parseobj:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function expects a parse object as its last argument that was initially created by <span style="font-family: monospace;">parse.scan</span> and which contains the remainder of the string to be parsed. <br>
The first argument must be a parsing closure that has two unbound
arguments: the first returning a value ("@val") and the second
containing a directory like the one provided as the first argument to
this function.<br>
The second argument is a directory of operator definitions such as that constructed by <span style="font-family: monospace;">parse.opset</span>.
&nbsp;The base values connected by these operators are to be parsed by the <span style="font-family: monospace;">baseparse</span> argument.<br>
This function attempts to parse an expression in the string constructed with the operators defined in <span style="font-family: monospace;">opdefs</span>. &nbsp;If the string begins with such an expression it will return <span style="font-family: monospace;">TRUE </span>and update <span style="font-family: monospace;">parseobj.0</span> with the
remainder of the string, otherwise it returns <span style="font-family: monospace;">FALSE</span>. &nbsp;If the parse succeeds the value associated with the parsed expression<span style="font-family: monospace;"></span> is applied to the <span style="font-family: monospace;">ref_val</span> closure.<br>
The
intended use of ref_string is to provide a destination for the parsed quantity in the form of a reference (e.g. "<span style="font-family: monospace;">@name</span>"), however any closure requiring a single argument can be used.<br>
See also:&nbsp;<span style="font-family: monospace;">parse.scan</span>, <span style="font-family: monospace;">parse.scanned</span>, <span style="font-family: monospace;">scan&lt;others&gt;</span>, <span style="font-family: monospace;">parse.scan&lt;others&gt;</span>, <span style="font-family: monospace;">parse.opset<br>
      <br>
THIS FUNCTION IS NOT YET IMPLEMENTED</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td><span style="font-family: monospace;">TRUE</span> if a prefix contained in <span style="font-family: monospace;">delims</span> is parsed, <span style="font-family: monospace;">FALSE</span> otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre><br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>parse source</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">parse.source</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>None</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns the name of the current source of characters
being interpreted. &nbsp;The name is the name &nbsp;of the source as it
was at the first character of the last command executed.<br>
See also: <span style="font-family: monospace;">parse.line</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The current interpreted source.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; parse source<br>"$*console*"<br></pre>
      <pre>&gt; set thissrc[]:{ echo "source "+(str (parse.source!)!)! }<br>&gt; parse exec "echo init; thissrc" (io.instring "echo start\n thissrc" "r"!)<br>init<br>source "\$&lt;INIT&gt;"<br>start<br>source "\$&lt;string-in&gt;"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>range &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">range</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;mapping:dir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Constructs a vector containing the values that
are named in the mapping provided. &nbsp;Values associated with names
that are hidden because of
scoping rules will not appear. &nbsp;The order of entries in the vector
is the same as those that are generated in the <span style="font-family: monospace;">domain</span>
function. &nbsp;If the mapping is itself a vector (numerically indexed)
the order of entries will be identical to the mapping, otherwise the
order is undefined with respect to the mapping.<br>
See also: <span style="font-family: monospace;">domain</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A vector of the values contained in the argument directory,</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; range [mon="eggs", tue="bacon", wed="flour"]<br>&lt;"eggs", "bacon", "flour"&gt;<br></pre>
      <pre>&gt; echo ${join " == " (range [a="3", b="&#8364;4.5", "c"="$$4"]!)!}<br>3 == &#8364;4.5 == $4<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>restrict &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">restrict</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;env:dir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>restrict further commands to those in &lt;env&gt;<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>This command removes the current environment stack from scope and pushes its argument directory <span style="font-family: monospace;">env</span> onto the current environment stack thus bringing all the names defined in the directory into scope.<br>
Since the commands <span style="font-family: monospace;">parse.local</span> and <span style="font-family: monospace;">help</span> are active only on the top directory in the current environment the command has a direct effect on them.<br>
Note that the environment entered during the execution of a block goes
out of scope at the end of the block, together with any pushed
directories. &nbsp;This will mean that the original environment will
become available again once the block incorporating the restrict has
exited.<br>
This function can be used to reduce the complexity of the syntax
available subsequently. &nbsp;It can be particularly useful as an
argument to parse.exec in order to constrain a file's syntax.
&nbsp;Note, however, that including any functions with one or more
arguments among those allowed may enable the current environment to be
altered (using the &lt;name&gt; = &lt;value&gt; FTL syntax) - this may
be overcome by defining commands to replace the functions using the <span style="font-family: monospace;">cmd</span> function. &nbsp;The <span style="font-family: monospace;">lock</span> function may be of use if this is a problem.<br>
See also:&nbsp;<span style="font-family: monospace;">enter</span>, <span style="font-family: monospace;">lock</span>, <span style="font-family: monospace;">cmd</span>, <span style="font-family: monospace;">parse.exec</span></td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; restrict [h=help, e=echo, ans=42]<br>&gt; h<br>ans - int value<br>e &lt;whole line&gt; - prints the line out<br>h - prints command information<br>&gt; eval h            # we don't have an 'eval' command any more<br>ftl $*console*:25: unknown command 'eval h'<br></pre>
      <pre>% cat &gt; /tmp/2<br>e simple<br>e script<br>x<br>^D<br>% SCRIPT=/tmp/2 ftl<br>ftl: v1.6<br>&gt; set script_in io.file sys.env.SCRIPT "r"!<br>&gt; parse exec "restrict [e=echo, x=exit]" script_in<br>simple<br>script<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>return &lt;rc&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">return</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;rc:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>abandon current command input returning &lt;rc&gt;<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A string containing the name of the interpreter assigned by the library-using application</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set script_in io.instring "echo starting; return 2; echo unreached" "r"!<br>&gt; set rc parse.exec "" script_in!<br>starting<br>2<br>&gt; eval rc<br>2<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>rnd &lt;n&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">rnd</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;n:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Choose random number less than&nbsp;n and greater or equal to zero<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A random integer</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; echo ${rnd 256!}.${rnd 256!}.${rnd 256!}.${rnd 256!}<br>4.62.35.205</pre>
      <pre>&gt; set choose[vec]:{ vec.(rnd (len vec!)!) }<br>&gt; choose &lt;"red", "white", "blue"&gt;<br>"blue"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>select &lt;closure&gt; &lt;dir&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">select</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;choose:clocode&gt; &lt;set:clodir&gt;&nbsp;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>This function executes&nbsp;<span style="font-family: monospace;">choose</span> for every name-value pair in <span style="font-family: monospace;">set</span> and returns the subset of set for which <span style="font-family: monospace;">choose</span> returns <span style="font-family: monospace;">TRUE</span>.<br>
If <span style="font-family: monospace;">choose</span> is a code value it is simply executed in the environment where&nbsp;<span style="font-family: monospace;">select</span> was invoked, once for every member in the set, otherwise&nbsp;<span style="font-family: monospace;">choose</span> may be a closure with either one or two arguments.<br>
If it is a <span style="font-family: monospace;">choose</span> with one argument, that argument is successively bound to different values in the name-value pairs in the <span style="font-family: monospace;">set</span>.<br>
If it is a closure with two arguments, the first argument is
successively bound to different values, while the second is bound to
the corresponding name<br>
The order of evaluation is defined only for vectors.<br>
See also: <span style="font-family: monospace;">TRUE</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>
      <p>The subset of <span style="font-family: monospace;">set</span> for which <span style="font-family: monospace;">choose</span> returned <span style="font-family: monospace;">TRUE</span> as a directory.</p>
      </td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; eval select [v]:{ equal "int" (typename v!)! } &lt;1,2,"this",4,"that"&gt;!<br>&lt;1, 2, 3=4&gt;<br>&gt; eval select [v]:{ equal "string" (typename v!)! } &lt;1,2,"this",4,"that"&gt;!<br>&lt;2="this", 4="that"&gt;<br></pre>
      <pre>&gt; set inorder select [max=0,v]:{ if (more v max!) { max=v; TRUE } {FALSE}! }<br>&gt; inorder &lt;"ay", "bee", "see", "dee", "ee"&gt;<br>&lt;"ay", "bee", "see"&gt;<br>&gt; inorder &lt;2,3,4,2,4,0,7&gt;<br>&lt;2, 3, 4, 6=7&gt;<br></pre>
      <pre>&gt; set start[n, vec]: { select [v,ix]:{ moreeq ix n! } vec! }<br>&gt; start 3 &lt;"metis", "adrasthea", "amalthea", "thebe", "io", "europa"&gt;<br>&lt;3="thebe", "io", "europa"&gt;<br></pre>
      <pre>&gt; set pints [mon=1, tue=3, wed=2, thu=2, fri=6, sat=0, sun=0]<br>&gt; select (lesseq 2) pints<br>["tue"=3, "wed"=2, "thu"=2, "fri"=6]<br>&gt; select (equal 0) pints<br>["sat"=0, "sun"=0]<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>set &lt;name&gt; &lt;expr&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">set</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;name:token&gt; &lt;value:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Provide another name for the given value in the
current environment. If the name does not appear in the current
environment it is added (to the environment with innermost-scope).
&nbsp;The name may specify the directly in which it is set explicitly
(by using the '<span style="font-family: monospace;">&lt;dir&gt;.&lt;name&gt;</span>' &nbsp;syntax). &nbsp;The
innermost-scope can be specified explicitly using the syntax
'<span style="font-family: monospace;">.&lt;name&gt;</span>'.<br>
This command provides a similar function to the FTL expression <span style="font-family: monospace;">&lt;name&gt; = &lt;value&gt;</span>.
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL<br>
      </td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set name "string value"<br></pre>
      <pre>&gt; set dir [old=0]<br>&gt; set dir.old "new"<br>&gt; set dir.(dir.old) 1<br>&gt; eval dir<br>["old"="new","new"=1]<br></pre>
      <pre>&gt; set proc dir:{ echo old! }<br>&gt; proc<br>new<br></pre>
      <pre>&gt; set fn [old]:{ echo old! }<br>&gt; fn "this"<br>this<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>shiftl &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">shiftl</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;n1:int&gt; &lt;n2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two integers and shifts
the bit representation of the first left by the number of bits
specified in the second, filling newly vacated bit positions with zeros.<br>
This is normally equivalent to dividing n1 by 2 to the power of n2.<br>
Shifts by a negative amount leave the value unchanged.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer with the value n1 shifted left by n2.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;">add</span>, <span style="font-family: monospace;">sub</span>, <span style="font-family: monospace;">mul</span>, <span style="font-family: monospace;">div</span>, <span style="font-family: monospace;">shiftl</span>, <span style="font-family: monospace;">shiftr, neg</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; shiftl 1 3<br>8<br>&gt; shiftl 1 -3<br>8<br>&gt; shiftl 1 (-3)<br>1<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>shiftr &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">shiftr</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;n1:int&gt; &lt;n2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes
two integers and shifts the bit representation of the first left by the
number of bits specified in the second, filling newly vacated bit
positions with zeros.<br>
For a positive n1, this is normally equivalent to dividing n1 by 2 to
the power of n2. &nbsp;This is not true for negative numbers however.<br>
Shifts by negative amounts leave the value unchanged.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer with the value n1 shifted left by n2.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;">add</span>, <span style="font-family: monospace;">sub</span>, <span style="font-family: monospace;">mul</span>, <span style="font-family: monospace;">div</span>, <span style="font-family: monospace;">shiftl</span>, <span style="font-family: monospace;">shiftr, neg</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; shiftr 16 3<br>2<br>&gt; shiftr 16 (-3)<br>16<br>&gt; shiftr -16 3<br>2305843009213693950<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sleep &lt;n&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">sleep</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;milliseconds:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Sleep for the given number of milliseconds.<br>
A C function can be delegated to the parser to execute during this call using the C function <span style="font-family: monospace;">parser_suspend_put()</span>. &nbsp;Such functions can perform background processing during the wait.<br>
See also: <span style="font-family: monospace;">every</span>.<br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sleep 500<br>&gt;<br></pre>
      <pre>&gt; set rpt[ms,fn]:{ while {1} {fn!; sleep ms!;}! }<br>&gt; rpt 1000 { echo "tick"! }<br>tick<br>tick<br>tick<br>tick<br>tick<br>tick<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sort &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">sort</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;env:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Provides a vector of names in the
provided environment which is ordered by the values each name is
associated with in the environment.<br>
This function is identical to:<br>
      <pre>sortby cmp<br></pre>
(but is implemented more efficiently).<br>
See also: <span style="font-family: monospace;">sortby</span>, <span style="font-family: monospace;">sortdom</span>, <span style="font-family: monospace;">cmp</span>, <span style="font-family: monospace;">range</span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A vector of names from the given
environment with entries for each of the name-value pairs in it, in
which entries are ordered so that the directory values of names with a
smaller index are less than or equal to those with a larger index
according to the comparison function <span style="font-family: monospace;">cmp</span>.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sort &lt;-9,NULL,[a=3],"string",45,&lt;&gt;,3&gt;<br>&lt;1, 0, 6, 4, 3, 2, 5&gt;<br></pre>
      <pre>&gt; set max[vec]:{ vec.((sort vec!).(-1+(len vec!))) }<br>&gt; max &lt;2,6,3,5,6,8,-8&gt;<br>8<br></pre>
      <pre>&gt; set min[vec]:{ vec.((sort vec!).0) }<br>&gt; min &lt;2,6,3,5,6,8,-8&gt;<br>-8<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sortby &lt;cmpfn&gt; &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">sortby</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;cmpfn:closure&gt; &lt;env:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Provides
a vector of names in the provided environment which is ordered by the
values each name is associated with in the environment. &nbsp;The ordering is dictated by the&nbsp;<span style="font-family: monospace;">cmpfn</span> function which is executed with two arguments to be compared, and must return <br>
      <ul>
        <li>a negative integer value to indicate that the first argument is less than the second</li>
        <li>a zero integer value to indicate that the first argument is equal to the second</li>
        <li>a positive integer value to indicate that the first argument is more than the second</li>
      </ul>
See also: <span style="font-family: monospace;">sort</span>, <span style="font-family: monospace;">sortdomby</span>, <span style="font-family: monospace;">range</span><span style="font-family: monospace;"></span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A vector of names from the given environment with entries for each of
the name-value pairs in it, in which entries are ordered so that the
directory values of names with a smaller index are less than or equal
to those with a larger index according to the comparison function&nbsp;provided<span style="font-family: monospace;"></span>.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sortby [a,b]:{cmp b a!} &lt;-9,NULL,[a=3],"string",45,&lt;&gt;,3&gt;<br>&lt;2, 5, 3, 4, 6, 0, 1&gt;<br></pre>
      <pre>&gt; set cmpmin [v1,v2]:{ cmp v1.((sort v1!).0) v2.((sort v2!).0)! }<br>&gt; set maxmin[vecvec]:{ sortby cmpmin vecvec! }<br>&gt; maxmin &lt;&lt;0,2,3&gt;,&lt;8&gt;,&lt;9,7,-1&gt;,&lt;4,3&gt;&gt;<br>&lt;2, 0, 3, 1&gt;<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sortdom &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">sortmod</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;env:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Provides
a vector of names in the provided environment which is ordered by the
names in the environment. &nbsp;Note that because the "names" in a
vector are already in order this function is more useful on other kinds
of directory.<br>
This function is identical to:<br>
      <pre>sortmodby cmp<br></pre>
(but is implemented more efficiently).<br>
See also: <span style="font-family: monospace;">sortmodby</span>, <span style="font-family: monospace;">sort</span>, <span style="font-family: monospace;">cmp</span>,&nbsp;<span style="font-family: monospace;">domain</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A vector of names from the given environment with entries for each of
the name-value pairs in it, in which entries are ordered so that the
names with a smaller index are less than or equal
to those with a larger index according to the comparison function&nbsp;<span style="font-family: monospace;">cmp</span>.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sortdom &lt;4,5,67,2&gt;<br>&lt;0, 1, 2, 3&gt;<br></pre>
      <pre>&gt; sortdom [one=1, two=2, three=3]<br>&lt;"one", "three", "two"&gt;<br></pre>
      <pre>&gt; set in_order [_vals, _fn]:{<br>&gt;     forall (sortdom _vals!) [_val]:{ _fn _vals.(_val) _val! }!<br>&gt; }<br>&gt; in_order [apples=12, pears=8, bananas=7] [n,fruit]:{ <br>&gt;    io.fprintf io.out "we have %d %s\n" &lt;n,fruit&gt;! <br>&gt; }<br>we have 12 apples<br>we have 7 bananas<br>we have 8 pears<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sortdomby &lt;cmpfn&gt; &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">sortdomby</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;cmpfn:closure&gt; &lt;env:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Provides
a vector of names in the provided environment which is ordered by the
names in the environment. &nbsp;The ordering is dictated by the&nbsp;<span style="font-family: monospace;">cmpfn</span> function which is executed with two arguments to be compared, and must return <br>
      <ul>
        <li>a negative integer value to indicate that the first argument is less than the second</li>
        <li>a zero integer value to indicate that the first argument is equal to the second</li>
        <li>a positive integer value to indicate that the first argument is more than the second</li>
      </ul>
See also: <span style="font-family: monospace;">sortdom</span>, <span style="font-family: monospace;">sortby</span>, <span style="font-family: monospace;">domain</span><span style="font-family: monospace;"></span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A vector of names from the given environment with entries for each of
the name-value pairs in it, in which entries are ordered so that the
names with a smaller index are less than or equal
to those with a larger index according to the comparison function provided<span style="font-family: monospace;"></span>.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sortdomby [a,b]:{cmp b a!} [one=1, two=2, three=3]<br>&lt;"two", "three", "one"&gt;<br></pre>
      <pre>&gt; sortdomby collate ["fred"=7, ""=99, "FORMER"=2, "104"=77]<br>&lt;"104", "FORMER", "fred", "\xc2\xa3"&gt;</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>source &lt;filename&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">source</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;tokstring:filename&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Open the filename for reading and push it onto
the stack of character sources so that the next characters to read
(e.g. to construct the next command) will be taken from this source.<br>
This differs from <span style="font-family: monospace;">parse.exec</span>
because the characters from the file are not read immediately.
&nbsp;Because it is possible to execute further commands on the current
line additional character sources may be added to the stack before the
characters from this source are read.<br>
When the last octet is read as input or from the file or the interpreter is closed it is closed automatically.<br>
See also: <span style="font-family: monospace;">parse.exec</span>, <span style="font-family: monospace;">sourcetext</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      When c:\\extra-commands contains:<br>
      <pre>echo executing...</pre>
      <pre>&gt; source c:\\extra-commands<br>executing...</pre>
This feature is not working correctly:<br>
      <pre>set test[]:{ source "/tmp/extra-commands"!; echo "Started"! }<br>test<br>&lt;Segmentation fault&gt;</pre>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h3>sourcetext &lt;stringexpr&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">sourcetext</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;text:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Push the supplied text onto the stack of character sources so that the next
characters to read (e.g. to construct the next command) will be taken
from this source.<br>
This differs from <span style="font-family: monospace;">parse.exec</span> because the
characters from the file are not read immediately. &nbsp;Because it is
possible to execute further commands on the current line additional
character sources may be added to the stack before the characters from
this source are read.<br>
Beware that it is easy to generate input that does not complete a line
(and therefore cause execution) which will nonetheless be used as part
of an executed line.<br>
See also: <span style="font-family: monospace;">parse.exec</span>, <span style="font-family: monospace;">source</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>NULL</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sourcetext "echo executing...\n"<br>executing...<br></pre>
      <pre>&gt; sourcetext "echo "<br>&gt; mycommand wont work<br>mycommand wont work<br></pre>
This feature is not working correctly:<br>
      <pre>&gt; set test[]:{ sourcetext "echo executing...\n"; echo "Started"! }<br>&gt; test<br>Started<br>&gt;<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>split &lt;delim&gt; &lt;str&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">split</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;delimiter:stringnl&gt; &lt;arg:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Splits arg into a vector of strings separated by
the delimiter. &nbsp;If the delimiter is an emtpy string the argument
is split into (possibly multi-byte) characters. &nbsp;If it is NULL
then the argument is split into octets.<br>
See also: <span style="font-family: monospace;">join</span>, <span style="font-family: monospace;">joinchr</span>, <span style="font-family: monospace;">len</span>, <span style="font-family: monospace;">strlen</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A string containing the name of the interpreter assigned by the library-using application</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; split "/" "dir/subdir/file"<br>&lt;"dir", "subdir", "file"&gt;<br></pre>
      <pre>&gt; split "\0" "line1\0line2"<br>&lt;"line1", "line2"&gt;<br></pre>
      <pre>&gt; split "" "&#8364;"<br>&lt;"\xc2\xa3", "\xe2\x82\xac", "\xc2\xa2"&gt;<br></pre>
      <pre>&gt; split NULL "&#8364;"<br>&lt;"\xc2", "\xa3", "\xe2", "\x82", "\xac", "\xc2", "\xa2"&gt;<br></pre>
      <pre>&gt; split NULL "ascii"<br>&lt;"a", "s", "c", "i", "i"&gt;<br></pre>
      <pre>&gt; set spaceout[s]: { join " - " (split "" s!)! }<br>&gt; echo ${spaceout "&#8364;"!}<br> - &#8364; - <br></pre>
      <pre><span style="font-family: monospace;"></span>&gt; set args[str]: { range (select (notequal "") (split " " str!)!)! }<br>&gt; args " a   badly  spaced     command line"<br>&lt;"a", "badly", "spaced", "command", "line"&gt;<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>str &lt;expr&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">str</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;value:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Generate a string representation of the value
provided. &nbsp;The string representation is one that, if read as a
value should (where possible) regenerate the value. &nbsp;This function
is equivalent to <br>
      <pre>[val]: { io.outstring [out]:{ io.stringify out val! }! }</pre>
See also: <span style="font-family: monospace;">io.stringify</span>, <span style="font-family: monospace;">io.strf</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A string containing the name of the interpreter assigned by the library-using application</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; set showstr[val]: { io.write io.out "value: "+(str val!)+"\n"!; }<br>&gt; set show[val]: { io.write io.out "value: "+(val)+"\n"!; }<br>&gt; show "shaln't"<br>value: shaln't<br>&gt; showstr "shaln't"<br>value: "shaln\'t"<br>&gt; showstr 100<br>value: 100<br>&gt; show 100<br>ftl: value has wrong type - type is int, expected string<br>ftl $*console*:49: string expected after '+'<br>ftl $*console*:49: error in '+(val)+"\n"!; '<br>["_1"=&lt;-EOF-&gt;,"_help"="&lt;stream&gt; &lt;string&gt; - write string to stream", "_2"]::&lt;func:0x8053ff4,2&gt;</pre>
      <pre>&gt; set s str "that's \"\"s\n"!<br>&gt; echo $s<br>"that\'s \"\xc2\xa3\xc2\xa3\xc2\xa3\"s\n"<br>&gt; eval s<br>"\"that\\\'s \\\"\\xc2\\xa3\\xc2\\xa3\\xc2\\xa3\\\"s\\n\""<br></pre>
      <pre>&gt; eval str [a=3, b="this", c=&lt;"one", 2, 3&gt;, d=&lt;7..99&gt;]!<br>"[\"a\"=3,\"b\"=\"this\",\"c\"=&lt;\"one\", 2, 3&gt;,\"d\"=&lt;7 .. 9&gt;]"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>strf &lt;fmt&gt; &lt;env&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">strf</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;format:string&gt;&nbsp;&lt;values:clodir&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Generate a string according to the format provided from the values given in the values directory. <br>
The format string must conform to the following syntax: <br>
      <div style="text-align: center;"><span style="font-family: monospace;">[ &lt;text&gt; | %% | %[&lt;fieldname&gt;]&lt;format&gt; ]*</span><br>
      <div style="text-align: left;">where &lt;text&gt; is simply a sequence of non '<span style="font-family: monospace;">%</span>' characters, the optional &lt;fieldname&gt; is alphanumeric text enclosed by '<span style="font-family: monospace;">[</span>' and '<span style="font-family: monospace;">]</span>' and the &lt;format&gt; is</div>
      </div>
      <div style="text-align: center;"><span style="font-family: monospace;">[-][+][0][ ][#][&lt;digits&gt;+][.&lt;digits&gt;+][&lt;fmtchar&gt; | {&lt;fmtstr&gt;}]</span><br>
      <div style="text-align: left;">in which the optional prefixes have these uses:<br>
      <div style="text-align: center;">
      <table style="text-align: left; margin-left: auto; margin-right: auto;" border="0" cellpadding="2" cellspacing="2">
        <tbody>
          <tr>
            <td style="vertical-align: top;">-</td>
            <td>left justify the string in the specified width, otherwise right justify it.</td>
          </tr>
          <tr>
            <td style="vertical-align: top;">+</td>
            <td> include a sign (if relevant to the value) both when negative and when positive.<br>
            </td>
          </tr>
          <tr>
            <td style="vertical-align: top;">0</td>
            <td>when right justified pad leading positions with zeros
to accommodate the specified width (taking &nbsp;any place for a sign
into account).</td>
          </tr>
          <tr>
            <td style="vertical-align: top;">&lt;space&gt;</td>
            <td>leave a blank in place of a positive sign (if relevant to the value) when positive</td>
          </tr>
          <tr>
            <td style="vertical-align: top;">#</td>
            <td>use an alternative form of the format.</td>
          </tr>
          <tr>
            <td style="vertical-align: top;">&lt;digits&gt;+</td>
            <td>specifies the minimum width of the field, more characters than this may be printed if the format requires it.</td>
          </tr>
          <tr>
            <td style="vertical-align: top;">.&lt;digits&gt;+</td>
            <td>specifies the "precision" of the format. &nbsp;This has
a different interpretation in different formats. &nbsp;In floating
point formats (none at present) it would specify a number of decimal
digits following the decimal point. &nbsp;In many other formats it
specifies the maximum field width (in which surplus characters
generated by the format are discarded).</td>
          </tr>
        </tbody>
      </table>
      <div style="text-align: left;"><span style="font-weight: bold;"></span>The format name is then specified either as a single character <span style="font-family: monospace;">&lt;fmtchar&gt;</span> or as multiple characters in braces <span style="font-family: monospace;">{&lt;fmtstr&gt;}</span>. &nbsp;This name is looked up in the "<span style="font-family: monospace;">fmt</span>"
directory in the root environment to obtain a binding that is invoked
in order to generate the basic output. &nbsp;The formats supported can
be extended by including additional bindings in this directory.
&nbsp;The bindings are invoked as iff called using<br>
      <br>
      <div style="text-align: center;"><span style="font-family: monospace;">fmt.&lt;name&gt; &lt;flags&gt; &lt;precision&gt; &lt;value&gt;!</span><br style="font-family: monospace;">
      <br>
      </div>
This location (<span style="font-family: monospace;">fmt</span>) may be altered in future versions.<br>
      <br>
Curently the following formats are supported by default (although the user can add more):<br>
      <table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
        <tbody>
          <tr>
            <th>Format name</th>
            <th>Value type required</th>
            <th>String produced</th>
          </tr>
          <tr>
            <td style="text-align: center;">v</td>
            <td>any type</td>
            <td>the string representation of the type (as generated by the <span style="font-family: monospace;">str</span> function)</td>
          </tr>
          <tr>
            <td style="text-align: center;">s</td>
            <td>string</td>
            <td>the string</td>
          </tr>
          <tr>
            <td style="text-align: center;">x</td>
            <td>(unsigned) integer</td>
            <td>lower case hexadecimal</td>
          </tr>
          <tr>
            <td style="text-align: center;">X</td>
            <td>(unsigned) integer</td>
            <td>upper case hexadecimal</td>
          </tr>
          <tr>
            <td style="text-align: center;">d</td>
            <td>integer</td>
            <td>decimal</td>
          </tr>
          <tr>
            <td style="text-align: center;">u</td>
            <td>(unsigned) integer</td>
            <td>decimal</td>
          </tr>
        </tbody>
      </table>
      <br>
Each &lt;text&gt; is copied directly to the output string. &nbsp;The sequence <span style="font-family: monospace;">%%</span>
copies a single percent to the output string. &nbsp;Each &lt;format&gt;
selects an argument from the given values and formats it according to
the rules above. &nbsp;The argument selected will be the one indexed
either by the &lt;fieldname&gt; if it is provided, or by the next
integer (starting from an initial index of 0). <br>
      <br>
      </div>
      </div>
      </div>
      </div>
See also:&nbsp;<span style="font-family: monospace;">str</span>, <span style="font-family: monospace;">io.fprintf</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A string containing the formatted representation of the arguments provided in the given environment.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; set on_1line[val]:{io.write io.out (strf "%-.79v" val!)!;io.write io.out "\n"!;}<br>&gt; on_1line 3<br>3<br>&gt; on_1line fmt<br>["v"=["_help"="&lt;f&gt; &lt;p&gt; &lt;val&gt; - %v value format", "_1", "_2", "_3"]::&lt;func:0x805<br>&gt; eval fmt<br>["v"=["_help"="&lt;f&gt; &lt;p&gt; &lt;val&gt; - %v value format", "_1", "_2", "_3"]::&lt;func:0x805647c,3&gt;, <br>"s"=["_help"="&lt;f&gt; &lt;p&gt; &lt;val&gt; - %s string format", "_1", "_2", "_3"]::&lt;func:0x8056464,3&gt;, <br>"X"=["_help"="&lt;f&gt; &lt;p&gt; &lt;val&gt; - %X hex format", "_1", "_2", "_3"]::&lt;func:0x805644c,3&gt;, <br>"x"=["_help"="&lt;f&gt; &lt;p&gt; &lt;val&gt; - %x hex format", "_1", "_2", "_3"]::&lt;func:0x8056434,3&gt;, <br>"u"=["_help"="&lt;f&gt; &lt;p&gt; &lt;val&gt; - %u unsinged format", "_1", "_2", "_3"]::&lt;func:0x805641c,3&gt;, <br>"d"=["_help"="&lt;f&gt; &lt;p&gt; &lt;val&gt; - %d integer format", "_1", "_2", "_3"]::&lt;func:0x8056404,3&gt;]<br><br></pre>
      <pre>&gt; set hdump[str]:{<br>&gt;     forall (split NULL str!) [h]:{<br>&gt;         io.write io.out (strf "%02X" h!)!;<br>&gt;      }!<br>&gt; } <br></pre>
      <pre><span style="font-family: monospace;"></span>&gt; set fmt.t [f,p,v]:{ if (equal "string" (typename v!)!) {v} {str v!}!}<br>&gt; strf "tokens %[one]t (not %[one]v) and %[two]t" [one="string", two=9]<br>"tokens string (not \"string\") and 9"<br></pre>
Currently there is a bug in integer formats that occurs when the <span style="font-family: monospace;">0</span> and the <span style="font-family: monospace;">+</span> prefixes are provided together.<br>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>strlen [&lt;string&gt;]</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">strlen</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;chars:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Gives the number of (possibly multibyte)
characters in string. &nbsp;The argument string is interpreted as a
sequence of multi-byte characters according to the current locale.
&nbsp;Typically the UTF-8 encoding of the Unicode character set will be
used. &nbsp;Because some characters are not encoded in a single octet
this will not always give the same result as <span style="font-family: monospace;">len</span>.<br>
The number of characters in a string will correspond to the number of elements in the result of <span style="font-family: monospace;">split ""</span>.<br>
See also: <span style="font-family: monospace;">len</span>, <span style="font-family: monospace;">split</span>, <span style="font-family: monospace;">joinchr</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>The number of characters held in a string</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; len "&#8364;"<br>7<br>&gt; strlen "&#8364;"<br>3<br>&gt; strlen "ascii"<br>5<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sub &lt;int&gt; &lt;int&gt;
</h3>
<table style="text-align: left; width: 473px; height: 330px;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">sub</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;n1:int&gt; &lt;n2:int&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Takes two integers and subtracts the second from the first.</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An integer with the value n1-n2.<span style="font-family: monospace;"><br>
      </span>See also:&nbsp;<span style="font-family: monospace;">add</span>, <span style="font-family: monospace;">mul</span>, <span style="font-family: monospace;">div</span>, <span style="font-family: monospace;">shiftl</span>, <span style="font-family: monospace;">shiftr, neg</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; sub 0x100 12<br>244<br></pre>
      <pre>&gt; sys localtimef "%T" (sub (sys.time!) 600!)<br>"17:10:14"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sys env</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Name</th>
      <td style="font-family: monospace;">sys.env</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Directory</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right;">Description</th>
      <td>A non-enumerable directory containing the names and
string values of the system environment. &nbsp;This directory can be
both read from and written to, but must be indexed by strings and must
be given string values.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Returns</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right;">Example</th>
      <td>
      <pre>&gt; sys env USER<br>"gray"</pre>
      <pre>&gt; set sys.env.new str [a=4, b=7]!<br>&gt; eval ${sys.env.new}<br>["a"=4,"b"=7]<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>sys localtime &lt;time&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Name</th>
      <td style="font-family: monospace;">sys.localtime</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;time:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Takes a number of seconds representing a calendar
time (e.g. as returned by sys.time) and breaks it down into components
representing elements of the local time relative to the current
timezone in a returned directory with fields:<br>
      <ul>
        <li>sec - number of seconds past the minute (0 .. 61 - normally up to 59)</li>
        <li>min - number of minutes pas the hour (0 .. 59)</li>
        <li>hour - number of hours into the identified date (0 .. 23)</li>
        <li>mday - day in the month (1 .. 31)</li>
        <li>mon - month in the year (1 .. 12)</li>
        <li>year - year number (e.g. 2006)</li>
        <li>wday - number of days since Sunday (0 .. 6)</li>
        <li>yday - number of days since 1 January (0 .. 365)</li>
        <li>isdst - whether daylight savings time is in force (=0&nbsp; no, &gt;0 yes, &lt;0 unknown) </li>
      </ul>
See also: <span style="font-family: monospace;">sys.localtimef</span>, <span style="font-family: monospace;">sys.utctime</span>, <span style="font-family: monospace;">sys.time</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A directory with values for names <span style="font-family: monospace;">sec</span>, <span style="font-family: monospace;">min</span>, <span style="font-family: monospace;">hour</span>, <span style="font-family: monospace;">mday</span>, <span style="font-family: monospace;">mon</span>, <span style="font-family: monospace;">year</span>, <span style="font-family: monospace;">wday</span>, <span style="font-family: monospace;">yday</span> and <span style="font-family: monospace;">isdst</span>.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sys localtime (sys.time!)<br>["sec"=39, "min"=46, "hour"=12, "mday"=21, "mon"=5, "year"=2006, "wday"=3, <br>"yday"=171, "isdst"=1]<br></pre>
      <pre>set logrec[out, when, rec]:{<br>    t = sys.localtime when!;<br>    io.write out (octet 0+(t.year)-2000!)!;<br>    io.write out (octet t.mon!)!;<br>    io.write out (octet t.mday!)!;<br>    io.write out (octet t.hour!)!;<br>    io.write out (octet t.min!)!;<br>    io.write out (octet (len rec!)!)!;<br>    io.write out rec!;<br>}<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sys localtimef &lt;format&gt; &lt;time&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Name</th>
      <td style="font-family: monospace;">sys.localtimef</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;format:string&gt; &lt;time:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Takes a number of seconds representing a calendar
time (e.g. as returned by sys.time) and returns the local time (relative to the locally set timezone) formatted
according to the given format string. &nbsp;Specific implementations
may vary, but the format string should be interpreted as specified in
ISO/IEC 9899:1999 (C programming language) clause 7.23.3.5.3 (strftime
function format string) which includes the specification of these
fields:<br>
      <ul>
        <li>%a is replaced by the locale&#8217;s abbreviated weekday name</li>
        <li>%A is replaced by the locale&#8217;s full weekday name</li>
        <li>%b is replaced by the locale&#8217;s abbreviated month name</li>
        <li>%B is replaced by the locale&#8217;s full month name</li>
        <li>%c is replaced by the locale&#8217;s appropriate date and time representation</li>
        <li>%C is replaced by the year divided by 100 and truncated to an integer, as a decimal number (00&#8722;99)</li>
        <li>%d is replaced by the day of the month as a decimal number (01&#8722;31)</li>
        <li>%D is equivalent to &#8216;&#8216;%m/%d/%y&#8217;&#8217;</li>
        <li>%e is replaced by the day of the month as a decimal number (1&#8722;31); a single digit is preceded by a space</li>
        <li>%F is equivalent to &#8216;&#8216;%Y&#8722;%m&#8722;%d&#8217;&#8217; (the ISO 8601 date format)</li>
        <li>%g is replaced by the last 2 digits of the week-based year (see below) as a decimal number (00&#8722;99)</li>
        <li>%G is replaced by the week-based year (see below) as a decimal number (e.g., 1997)</li>
        <li>%h is equivalent to &#8216;&#8216;%b&#8217;&#8217;</li>
        <li>%H is replaced by the hour (24-hour clock) as a decimal number (00&#8722;23)</li>
        <li>%I is replaced by the hour (12-hour clock) as a decimal number (01&#8722;12)</li>
        <li>%j is replaced by the day of the year as a decimal number (001&#8722;366)</li>
        <li>%m is replaced by the month as a decimal number (01&#8722;12)</li>
        <li>%M is replaced by the minute as a decimal number (00&#8722;59)</li>
        <li>%n is replaced by a new-line character</li>
        <li>%p is replaced by the locale&#8217;s equivalent of the AM/PM designations associated</li>
        <li>with a 12-hour clock</li>
        <li>%r is replaced by the locale&#8217;s 12-hour clock time</li>
        <li>%R is equivalent to &#8216;&#8216;%H:%M&#8217;&#8217;</li>
        <li>%S is replaced by the second as a decimal number (00&#8722;60)</li>
        <li>%t is replaced by a horizontal-tab character.</li>
        <li>%T is equivalent to &#8216;&#8216;%H:%M:%S&#8217;&#8217; (the ISO 8601 time format)</li>
        <li>%u is replaced by the ISO 8601 weekday as a decimal number (1&#8722;7), where Monday is 1</li>
        <li>%U is replaced by the week number of the year (the first Sunday as the first day of week 1) as a decimal number (00&#8722;53)</li>
        <li>%V is replaced by the ISO 8601 week number (see below) as a decimal number (01&#8722;53)</li>
        <li>%w is replaced by the weekday as a decimal number (0&#8722;6), where Sunday is 0</li>
        <li>%W is replaced by the week number of the year (the first Monday as the first day of week 1) as a decimal number (00&#8722;53)</li>
        <li>%x is replaced by the locale&#8217;s appropriate date representation</li>
        <li>%X is replaced by the locale&#8217;s appropriate time representation</li>
        <li>%y is replaced by the last 2 digits of the year as a decimal number (00&#8722;99)</li>
        <li>%Y is replaced by the year as a decimal number (e.g., 1997)</li>
        <li>%z is replaced by the offset from UTC in the ISO 8601
format &#8216;&#8216;&#8722;0430&#8217;&#8217; (meaning 4 hours 30
minutes behind UTC, west of Greenwich), or by no characters if no time
zone is determinable</li>
        <li>%Z is replaced by the locale&#8217;s time zone name or abbreviation, or by no characters if no time zone is determinable</li>
        <li>%% is replaced by %</li>
      </ul>
See also: <span style="font-family: monospace;">sys.utctimef</span>, <span style="font-family: monospace;">sys.localtime</span>, <span style="font-family: monospace;">sys.time</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Returns</th>
      <td>A string containing the local time formatted as requested.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; set timestr sys.localtimef "%H~%M"<br>&gt; timestr (sys.time!)<br>"11~58"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sys osfamily</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Name</th>
      <td style="font-family: monospace;">sys.osfamily</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Read only variable</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>Not a function</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns a string classifying the category of operating system running. Currently supported possible values are:<br>
      <ul>
        <li>"linux"</li>
        <li>"windows"</li>
        <li>"sunos"</li>
      </ul>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Returns</th>
      <td>Not a function.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sys osfamily<br>"linux"</pre>
      <pre>set osfile[path]: {<br>&nbsp; &nbsp; sep = if (equal sys.osfamily "windows"!) {"\\"}{"/"}!;<br>&nbsp; &nbsp; join sep path!<br>}<br><br>&gt; osfile &lt;"dir","subdir","file"&gt;<br>"dir/subdir/file"</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>sys run &lt;line&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Name</th>
      <td style="font-family: monospace;">sys.run</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;line:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right;">Description</th>
      <td> Executes the system command held on the line.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Returns</th>
      <td>NULL if the execution was successful otherwise a string describing the error</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; set rc sys.run "asfd"!<br>sh: asfd: command not found<br>&gt; eval rc<br>"ftl \$*console*:63: system command failed - \'asfd\' (rc 32512)\n"</pre>
      <pre>&gt; sys run arp -a<br>? (10.17.20.254) at 00:06:5B:00:F9:60 [ether] on eth0</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;">sys time</span></h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Name</th>
      <td style="font-family: monospace;">sys.time</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>No argument</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Provides a representation of calendar time as a number of seconds since an operating system-dependent initial epoch.<br>
See also: <span style="font-family: monospace;">sys.localtime</span>,&nbsp;<span style="font-family: monospace;">sys.localtimef</span>,&nbsp;<span style="font-family: monospace;"></span><span style="font-family: monospace;">sys.utctime</span>, <span style="font-family: monospace;">sys.utctime</span>f<span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Returns</th>
      <td>An integer number of seconds.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; sys localtimef "%X" (sys.time!)<br>"10:49:07"<br></pre>
      <pre>&gt; set timeit[fn]: {<br>&gt;    start = sys.time!;<br>&gt;    fn!;<br>&gt;    0+(sys.time!)-(start)<br>&gt; }<br>&gt; timeit (sleep 2000)<br>2</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sys uid &lt;user&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">sys.uid</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;user:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>return a unique identifier for the named user as an integer, or NULL if there is no such user.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Returns</th>
      <td>UID of a user.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; sys uid gray</pre>
      <pre>&gt; set isroot[id]: { 0 == (cmp id (sys.uid "root"!)!) }<br>&gt; isroot 500<br>FALSE<br>&gt; isroot 0<br>TRUE</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>sys utctime &lt;time&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Name</th>
      <td style="font-family: monospace;">sys.utctime</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;time:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Takes
a number of seconds representing a calendar time (e.g. as returned by
sys.time) and breaks it down into components representing elements of
the Coordinated Universal Time (UTC) in a returned directory
with fields:<br>
      <ul>
        <li>sec - number of seconds past the minute (0 .. 61 - normally up to 59)</li>
        <li>min - number of minutes pas the hour (0 .. 59)</li>
        <li>hour - number of hours into the identified date (0 .. 23)</li>
        <li>mday - day in the month (1 .. 31)</li>
        <li>mon - month in the year (1 .. 12)</li>
        <li>year - year number (e.g. 2006)</li>
        <li>wday - number of days since Sunday (0 .. 6)</li>
        <li>yday - number of days since 1 January (0 .. 365)</li>
        <li>isdst - whether daylight savings time is in force (=0&nbsp; no, &gt;0 yes, &lt;0 unknown) </li>
      </ul>
See also: <span style="font-family: monospace;">sys.utctimef</span>, <span style="font-family: monospace;">sys.localtime</span>, <span style="font-family: monospace;">sys.time</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Returns</th>
      <td>A directory with values for names <span style="font-family: monospace;">sec</span>, <span style="font-family: monospace;">min</span>, <span style="font-family: monospace;">hour</span>, <span style="font-family: monospace;">mday</span>, <span style="font-family: monospace;">mon</span>, <span style="font-family: monospace;">year</span>, <span style="font-family: monospace;">wday</span>, <span style="font-family: monospace;">yday</span> and <span style="font-family: monospace;">isdst</span>.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; sys utctime (sys.time!)<br>["sec"=41, "min"=47, "hour"=11, "mday"=21, "mon"=5, "year"=2006, <br>"wday"=3, "yday"=171, "isdst"=0]<br></pre>
      <pre>set logrec[out, when, rec]:{<br>    t = sys.utctime when!;<br>    io.write out (octet 0+(t.year)-2000!)!;<br>    io.write out (octet t.mon!)!;<br>    io.write out (octet t.mday!)!;<br>    io.write out (octet t.hour!)!;<br>    io.write out (octet t.min!)!;<br>    io.write out (octet (len rec!)!)!;<br>    io.write out rec!;<br>}<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>sys utctimef &lt;format&gt; &lt;time&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Name</th>
      <td style="font-family: monospace;">sys.utctimef</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;format:string&gt; &lt;time:int&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Takes a number of seconds representing a calendar
time (e.g. as returned by sys.time) and returns the Coordinated Universal Time (UTC) formatted
according to the given format string. &nbsp;Specific implementations
may vary, but the format string should be interpreted as specified in
ISO/IEC 9899:1999 (C programming language) clause 7.23.3.5.3 (strftime
function format string) which includes the specification of the
fields used by sys.localtimef.<br>
See also: <span style="font-family: monospace;">sys.localtimef</span>, <span style="font-family: monospace;">sys.utctime</span>, <span style="font-family: monospace;">sys.time</span><br>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Returns</th>
      <td>A string containing the UTC time formatted as requested.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td style="vertical-align: top;">
      <pre>&gt; set stamp {sys.utctimef "%T%z" (sys.time!)!}<br>&gt; stamp<br>"00:06:52+0000"<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>TRUE</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">TRUE</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Value</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>(no args)</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Provides a <span style="font-family: monospace;">TRUE</span> value which can be used in boolean expressions.<br>
Note that the value used for TRUE behaves as if it were defined as follows:<br>
      <pre>[code]:{code!}</pre>
See also: <span style="font-family: monospace;">TRUE</span>, the section about Boolean Values above.<span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>An value that is not the one used for FALSE.</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; set done FALSE<br>&gt; set once[fn]: { if (done) { done=TRUE; fn! } {}! } </pre>
      <pre>{   rc = fn!;<br>    if (rc.error_occured) {echo "ERROR"!; FALSE} {TRUE}!<br>}<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>type &lt;typename&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">type</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;typename&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns a type value of the named type. &nbsp;Values of this type can be compared with each other.<br>
See also: <span style="font-family: monospace;">typeof</span>, <span style="font-family: monospace;">typename</span> </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A type value</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; type string<br>string<br></pre>
      <pre>&gt; set isdir[x]: { 0 == (cmp (type{dir}!) (typeof x!)!) }<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>typename &lt;expr&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">typename</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Command</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;expr:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns a string representing the type of the expression when it has been evaluated.<br>
See also: <span style="font-family: monospace;">type</span>, <span style="font-family: monospace;">typeof</span><span style="font-family: monospace;"></span> </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A type value</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; typeof "string"<br>string<br></pre>
      <pre>&gt; set isdir[x]: { 0 == (cmp "dir" (typename x!)!) }<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><br>
</h3>
<h3>typeof &lt;expr&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">typename</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;expr:any&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns a type value representing the type that&nbsp;<span style="font-family: monospace;">expr</span> evaluates to. &nbsp;When displayed these types display as the following:<br>
      <ul>
        <li style="font-family: monospace;">nul</li>
        <li style="font-family: monospace;">type</li>
        <li style="font-family: monospace;">string</li>
        <li style="font-family: monospace;">code</li>
        <li style="font-family: monospace;">closure</li>
        <li style="font-family: monospace;">int</li>
        <li style="font-family: monospace;">dir</li>
        <li style="font-family: monospace;">cmd</li>
        <li style="font-family: monospace;">function</li>
        <li style="font-family: monospace;">stream</li>
        <li style="font-family: monospace;">ipaddr</li>
        <li style="font-family: monospace;">macaddr</li>
      </ul>
See also: <span style="font-family: monospace;">type</span>
      </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>A type value</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; typeof typeof<br>closure</pre>
      <pre>&gt; typeof []<br>dir</pre>
      <pre>&gt; typeof {}<br>code</pre>
      <pre>&gt; typeof ""<br>string</pre>
      <pre>&gt; typeof 0<br>int</pre>
      <pre>&gt; typeof NULL<br>nul<br></pre>
      <pre>&gt; typeof (typeof NULL!)<br>type<br></pre>
      <pre>&gt; eval str (typeof &lt;&gt;!)!<br>"dir"</pre>
      <pre>set output [msg]: {<br>    if (equal (type "string"!) (typeof msg!)!) {<br>        echo msg!<br>    }{<br>        echo (str msg!)!<br>    }!<br>}<br>&gt; output "this"<br>this<br>&gt; output 34<br>34</pre>
      </td>
    </tr>
  </tbody>
</table>
<h3><span style="font-weight: bold;"></span>tolower &lt;string&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">tolower</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;chars:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns a string containing the (possibly
multi-byte) characters in the argument string with any that have lower
case equivalents replaced by it. &nbsp;The characters replaced may be
encoded in more than one octet of the string. &nbsp;The number of
octets in the string returned is not necessarily the same as those in
the argument.<br>
See also: <span style="font-family: monospace;">tolower</span> </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>An upper-case string</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; echo ${toupper "gis - ProtechT10N"!}<br>GIS - PROTECHT10N<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>toupper &lt;string&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">toupper</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right;">Arg syntax</th>
      <td>&lt;chars:string&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td>Returns
a string containing the (possibly multi-byte) characters in the
argument string with any that have upper case equivalents replaced by
it. &nbsp;The characters replaced may be encoded in more than one octet of
the string. &nbsp;The number of octets in the string returned is not
necessarily the same as those in the argument.<br>
See also: <span style="font-family: monospace;">tolower</span> </td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>An upper-case string</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>&gt; echo ${tolower "GIS - ProTechT10N"!}<br>gis - protecht10n<br></pre>
      </td>
    </tr>
  </tbody>
</table>
<h3>while &lt;test&gt; &lt;do&gt;</h3>
<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</th>
      <td style="font-family: monospace;">while</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</th>
      <td>Function</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</th>
      <td>&lt;test:code&gt; &lt;body:code&gt;</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Description</th>
      <td> while &lt;test&gt; evaluates non-zero execute
&lt;code&gt;. &nbsp;Note that the test code is re-executed prior to
each re-execution of the code and so it may refer to items that are
updated by the code.</td>
    </tr>
    <tr>
      <th style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</th>
      <td>Returns the value of the last &lt;code&gt; executed, or <span style="font-family: monospace;">NULL</span> otherwise.</td>
    </tr>
    <tr>
      <th style="text-align: right; vertical-align: top;">Example</th>
      <td>
      <pre>set which[app]: {<br>    .path = split ":" sys.env.PATH!;<br>&nbsp;&nbsp;&nbsp; .fname = NULL;<br>&nbsp;&nbsp;&nbsp; .n = 0;<br>&nbsp;&nbsp;&nbsp; while { 0 == (cmp NULL fname!) and (inenv path n!) } {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .fn = ""+(path.(n))+"/"+(app);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .out = io.file fn "r"!;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n = 1+(n);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if 0 == (cmp NULL out!) {} {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fname = fn; io.close out!;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }!<br>&nbsp;&nbsp;&nbsp; }!;<br>&nbsp;&nbsp;&nbsp; fname<br>}</pre>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h3>zip &lt;dir&gt; &lt;dir&gt;<br>
</h3>

<table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">

  <tbody>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Name</td>
      <td style="font-family: monospace;">chop</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Kind</td>
      <td>Function</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Arg syntax</td>
      <td>&lt;dom:dir&gt; &lt;range:dir&gt;</td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Description</td>
      <td>Normally
takes two integer-indexed directories (vectors) and creates
a directory with domain &lt;dom&gt; and range taken from values in
&lt;range&gt;.&nbsp; The values for the range aree taken sequentially
from values in &lt;range&gt;.&nbsp; If those values are exhausted
&lt;range&gt; is repeated.&nbsp; When &lt;range&gt; is a single value
(instead of a vector) it is used for every range value.&nbsp; <br>
If the values in the &lt;dom&gt; vector are integers a new vector is
created and if the values are strings a new named directory is
created.&nbsp; <br>
Currently values in &lt;dom&gt; that are not the same type as the first element in &lt;dom&gt; are ignored.<br>
If there are no values in &lt;dom&gt; NULL is returned.<br>
</td>
    </tr>
    <tr>
      <td style="font-weight: bold; width: 100px; text-align: right; vertical-align: top;">Returns</td>
      <td>A vector of successive substrings taken from the string.<span style="font-family: monospace;"><br>
      </span>See also: <span style="font-family: monospace;">chop</span><span style="font-family: monospace;"></span></td>
    </tr>
    <tr>
      <td style="text-align: right; vertical-align: top; font-weight: bold;">Example</td>
      <td>
      <pre>&gt; zip &lt;0..6&gt; &lt;"even", "odd"&gt;<br>&lt;"even", "odd", "even", "odd", "even", "odd", "even"&gt;<br></pre>
      <pre>&gt; zip &lt;3..0&gt; &lt;"abc", "def", "ghi", "jk"&gt;<br>&lt;"jk", "ghi", "def", "abc"&gt;<br></pre>
      <pre>&gt; zip &lt;0..9&gt; 0<br>&lt;0, 0, 0, 0, 0, 0, 0, 0, 0, 0&gt;<br></pre>
      <pre>&gt; zip &lt;"c","c#","d","d#","e","f","f#","g","g#","a","a#","b"&gt; &lt;0..11&gt;<br>&gt; [c=0, "c#"=1, d=2, "d#"=3, e=4, f=5, "f#"=6, g=7, "g#"=8, a=9, "a#"=10, b=11]<br></pre>

      <pre>set invert[x]:{zip (range x!) (domain x!)!}<br><br>&gt; invert [c=0, "c#"=1, d=2, "d#"=3, e=4, f=5, "f#"=6, g=7, "g#"=8, a=9, "a#"=10, b=11]<br>&lt;"c", "c#", "d", "d#", "e", "f", "f#", "g", "g#", "a", "a#", "b"&gt;<br>&gt; invert [a=4,b=3,c=9,d=2]<br>&lt;2="d", "b", "a", 9="c"&gt;</pre>
      </td>
    </tr>
  </tbody>
</table>

<h3><span style="font-weight: bold;"></span></h3>

<h3><br>
</h3>

<br>
<h2>Implementation Notes</h2>
<h3>Directories</h3>
A number of types of directory are supported the most important of
which are&nbsp;indexed and vector directories. &nbsp;A vector directory
is implemented as a contiguous array with memory elements allocated for
every index between zero and its maximum entry. &nbsp;Although some
entries can be unset this type of directory will not store sparsely
indexed data very well. &nbsp;Currently it can not store values
associated with negative indeces. &nbsp;Vectors are generated when the
'&lt;' ...
'&gt;' syntax is used.<br>
<br>
Name-indexed directories are generated when the '[' .. ']' syntax is used.
&nbsp;Currently they can only be indexed by a string. &nbsp;This means
that a vector (which is indexed by number) can not be converted into an
indexed directory - even though vectors incorporated into parts of other directories are represented (e.g.
by str) using the '[' .. ']' syntax. &nbsp;This will be changed in the
future.
<h3>Garbage Collection</h3>
This implementation supports garbage collection of unreferenced values
and also creates garbage quite freely. &nbsp;However it does not do
garbage collection on-demand (e.g. when storage runs low) it will only
perform garbage collection after the execution of a command line in
command mode - and then only at the outer-most level of stack of
<span style="font-family: monospace;">parser.exec</span> calls. &nbsp;This means that recursive or looping FTL
expressions can currently generate garbage without limit.<br>
</div>
</div>
</body></html>